数据源的使用主要是通过**数据源模型**

== 查看数据源模型

可以在数据源列表操作列中，点击模型列表，查看已映射的数据源模型列表

image::高级功能/外部数据源接入/外部数据源使用/23f36b85aea99c69488816c7c340fd3b.png[image]

也可以在数据源编辑界面，点击右上角图标，查看数据源模型列表和图表

image::高级功能/外部数据源接入/外部数据源使用/c0ce70d4459e06e9a7e521440d661e5a.png[image]

=== 数据源模型列表

image::高级功能/外部数据源接入/外部数据源使用/9fe318c33f8a76dd1fa6eb07e01bbfe0.png[image]

=== 数据源模型图表

image::高级功能/外部数据源接入/外部数据源使用/94a1a9e8cf09d10867d725e94adc6cbb.png[image]

== 数据管理

在数据源模型列表操作列中，点击数据管理，可以快速对数据源数据进行增删改查操作。

image::高级功能/外部数据源接入/外部数据源使用/c12e04d234656e7fa85e3e660eb74592.png[image]

=== 查看数据

image::高级功能/外部数据源接入/外部数据源使用/02ca65d78d1d8d9d411295bc7507d338.png[image]

=== 新增数据

image::高级功能/外部数据源接入/外部数据源使用/8602a659287b362b6308326b8b77db59.png[image]

=== 修改数据

image::高级功能/外部数据源接入/外部数据源使用/2d25147f82d4bd0a130803d983cd5c03.png[image]

=== 删除数据

请注意！！！默认删除为`物理删除`，测试前请注意数据备份。

== 更改字段类型

数据源模型支持所有的基本字段类型和绝大部分高级字段类型，可以通过更改默认映射的字段类型来实现高级字段类型使用

例如：我们有一个表【歌手】，有一个字段为【头像】，我们想保存头像图片地址，字段类型为`varchar`，步骤如下

[arabic]
. 在数据模型 -> 列表模式/图形模式 -> 选择数据源 -> 查看响应数据源模型

image::高级功能/外部数据源接入/外部数据源使用/4f2a40a3a1de6f8c3fff16cae304dcc0_4f2a40a.png[4f2a40a3a1de6f8c3fff16cae304dcc0.png]

image::高级功能/外部数据源接入/外部数据源使用/0f987641bb980a60531a4111d23774d9_0f98764.png[0f987641bb980a60531a4111d23774d9.png]

[arabic, start=2]
. 编辑数据源字段

在图形模式下可以直接编辑，列表模式下需要进入编辑界面，并切换到【字段集合】面板

[arabic, start=3]
. 删除默认映射的【头像】字段，然后点击`添加`

image::高级功能/外部数据源接入/外部数据源使用/85902714a263358ead781f8180fe4b26_8590271.png[85902714a263358ead781f8180fe4b26.png]

[arabic, start=4]
. 选择高级字段中的【图片】类型，并下一步

image::高级功能/外部数据源接入/外部数据源使用/ba02ebce5dab88246ea4cda67aafd704_ba02ebc.png[ba02ebce5dab88246ea4cda67aafd704.png]

[arabic, start=5]
. 勾选之前删除的字段【头像】，并调整配置

image::高级功能/外部数据源接入/外部数据源使用/eecabf0e49f994c3cc1b85246e602a8b_eecabf0.png[eecabf0e49f994c3cc1b85246e602a8b.png]

[arabic, start=6]
. 点击保存，可以在数据管理中预览效果

新增歌手会渲染一个图片选择器组件，可以直接选择图片文件进行上传

image::高级功能/外部数据源接入/外部数据源使用/58906899f3a61992461bcc53115be2d6_5890689.png[58906899f3a61992461bcc53115be2d6.png]

选择成功后点击保存，可以在列表中预览图片

image::高级功能/外部数据源接入/外部数据源使用/c5885fe3627e90993ba4b078b9bec6b7_c5885fe.png[c5885fe3627e90993ba4b078b9bec6b7.png]

其他字段类型请查看数据模型相应介绍。

== 添加关系

数据源模型也支持添加关系，支持【一对一】、【一对多】、【多对一】、【多对多】

image::高级功能/外部数据源接入/外部数据源使用/cbeb9f02dc58d34ec80d4f382360a37b_cbeb9f0.png[cbeb9f02dc58d34ec80d4f382360a37b.png]

=== 一对一

image::高级功能/外部数据源接入/外部数据源使用/a53356dfeec22728fdbec58078806310_a53356d.png[a53356dfeec22728fdbec58078806310.png]

* 目标模型：选中需要建立关系的目标模型
* 关联字段在对方：关联的外键是否在对方表中
* 关联外键：选择关联的外键

=== 一对多/多对一

image::高级功能/外部数据源接入/外部数据源使用/218a8250bc9d802c31f442ee0ff1392b_218a825.png[218a8250bc9d802c31f442ee0ff1392b.png]

* 目标模型：选择需要建立关系的目标模型
* 关联外键：选择关联的外键字段

=== 多对多

多对多需要提前提供一张中间表

image::高级功能/外部数据源接入/外部数据源使用/5d18f670de511dfd3783925106b4376c_5d18f67.png[5d18f670de511dfd3783925106b4376c.png]

* 目标模型：选中需要建立关系的目标模型；
* 中间表：选中多对多关系需要的中间表模型
* 「xx」外键：分别选中关联两个表的外键
