---
id: 服务编排概述
---

## 场景简介

服务编排是一种通过图形化的方式表达后端业务逻辑的能力，它能够帮助我们通过可视化、拖拉拽式进行后端业务逻辑的定义，支持以下几类场景：

- 多接口聚合：对已有服务进行二次聚合；
- 开发实体操作后端逻辑：进行实体的数据的增、删、改、查业务逻辑的开发；
- 实现业务逻辑自动化：通过监听业务事件，触发定义的业务逻辑，如当订单状态更改为“已付款”后触发“发货流程”。

## 概念介绍

### 事件

表示编排中的触发与结束等相关事件。

| 名称     | 图标                                           | 说明                                                         |
| -------- | ---------------------------------------------- | ------------------------------------------------------------ |
| 开始事件 | ![](/img/服务编排/服务编排概述/服务编排01.jpg) | 开始整个服务编排，一个服务编排只能有一个开始事件。也可以根据业务需要，在开始时定义当前服务的输入参数。 |
| 结束事件 | ![](/img/服务编排/服务编排概述/服务编排02.png) | 结束整个服务编排，一个服务编排只能有一个结束。结束的时候，常常会定义当前服务编排返回的数据。 |

### 顺序流

流是形成元素之间的连接，用于表达活动的执行顺序。

| 名称   | 图标 | 说明                                                                           |
| ------ | ---- | ------------------------------------------------------------------------------ |
| 顺序流 | →    | 顺序流是连接事件、活动、决策并相互合并的箭头。它们一起定义了微流中的执行顺序。 |

### 分支

分支用于决策，相当于代码中的 `if` 语句，满足条件的的分支活动会并行执行，即可以通过分支实现并行逻辑。

### 循环

相当于`for each`，对数组进行循环，按指定顺序取出数组中的每个`item ` 进行循环计算。

### 活动

服务编排中执行的操作。爱速搭提供预置常用的活动

- 变量活动
- 实体活动
- 调用服务
- 反馈与消息
- 其他高级活动

### 服务入参

定义服务入参，作为服务编排的入参，以便于被其他服务、流程、页面调用，方便当前服务的重用。

### 服务出参

定义服务的出参，即返回的数据。

**相关参考**：爱速搭前端约定的返回格式，所有返回都要符合下面的返回格式

```json
{
  "status": 0,
  "msg": "",
  "data": {
    ...其他字段
  }
}
```

- **status**: 返回 `0`，表示当前接口正确返回，否则按错误请求处理；
- **msg**: 返回接口处理信息，主要用于表单提交或请求失败时的 `toast` 显示；
- **data**: 必须返回一个具有 `key-value` 结构的对象。

**`status`**、**`msg`** 和 **`data`** 字段为接口返回的必要字段。

### 节点出参

即各节点执行后输出的参数，通过对于节点出参的定义，以便于被后续的其他节点使用，主要解决节点之间的协作问题。如`查询节点`、`SQL `此类节点可以将查询的数据，供后续节点使用。
