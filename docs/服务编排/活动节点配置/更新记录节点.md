## 概述
更新记录是指通过可视化的方式向应用实体模型更新数据记录，在服务编排中主要通过“更新记录”节点来实现。

## 配置面板
配置面板包含两大模块，基本信息、筛选条件和更新字段。
![image.png](/img/服务编排/entity-update-01.png)

### 1 基本信息
#### 1.1 节点标题
可以配置节点的标题，修改节点标题后，左侧画布中节点的展示也会进行修改，便于对节点进行说明。
#### 1.2 数据源
选择数据源需要在”实体模块“中建立数据源，然后选择需要操作的实体模型，当选择实体模型后会显示”筛选条件“模块，用于选择要更新的记录。
### 2 筛选条件
筛选条件支持”简单模式“和”复杂模式“两种类型选择

#### 2.1 简单模式
![image.png](/img/服务编排/entity-delete-02.png)
简单模式可以添加多个条件，每个分支包含左侧的下拉框选择字段、中间的操作条件，右侧的条件值以及最后的删除按钮构成，多个条件间为且的关系。

#### 2.2 复杂模式
![image.png](/img/服务编排/entity-delete-03.png)
复杂模式可以点击输入框右侧的编辑按钮，在弹出框中设置筛选条件，弹窗如下：
![image.png](/img/服务编排/entity-delete-04.png)
弹窗中的设置条件支持”并且“和”或者“两种逻辑，且能通过添加条件和条件组的方式进行并行和嵌套配置。可以处理较复杂的筛选条件。

### 3. 更新字段
更新字段模块可更新当前实体模型及与该实体模型存在一级关联的子表模型。

主子表关系存在一对一、多对一、一对多、多对多四种情况。
- 当主子关系为一对一、多对一时，子表只对应一条数据，更新子表字段时，如果没有子表记录则新增，存在子表记录则更新。
- 当主子关系为一对多、多对多时，如果更新子表记录就不能确定是需要更新原有的数据还是增加新的子表数据，可以通过“新增1:n、n:n关联表记录” 配置来确定。
#### 新增1:n、n:n关联表记录
该配置项仅会作用于更新子表字段且主子关系为一对多、多对多的情况，用于决定在更新子表记录时，是创建新的记录还是更新原有的子表记录。
当打开该配置项时，更新字段中如果存在子表字段，则会在子表中插入新的数据，反之则会更新原有数据。