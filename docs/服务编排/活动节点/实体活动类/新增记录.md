## 场景简介

新增记录实体模型中插入记录，主要支持以下场景：

- 单表新增：在指定实体中新增记录；
- 级联新增：支持基于实体关系级联新增场景，如同时在`1对多`的关联实体中新增记录。

## 新增单表记录

### 新增一条记录

向实体中新增一条记录，进行字段赋值时，直接输入每个字段的值即可，如图所示

![](/img/服务编排/活动节点/实体活动类/新增记录01.png)

### 新增多条记录

向实体中新增多条记录，进行字段赋值时，可以通过 arraymap()函数获取值。如图所示。

![](/img/服务编排/活动节点/实体活动类/新增记录02.png)

PS：可以通过表达式设计器，快速通过 arrymap()取值，如下图所示。

![image-20220925215427813](/img/服务编排/活动节点/实体活动类/新增记录03.png)

## 新增关联表记录

### 新增 1 对 1、1 对多关联表记录

当需要新增 `1对1`、`1对多`的关联实体记录时，可以选择关联实体的字段，进行级联新增。

![](/img/服务编排/活动节点/实体活动类/新增记录04.png)

注意：

- 针对 `1对1`、`1对多`关系的实体进行级联新增时，ID 是自动生成的，无需进行 ID 的赋值。

- 新增记录后，会返回生成的 ID，以便于在后续节点中使用，即后续节点通过返回 id 定位当前新增记录。

- `1对多`赋值时需要进行使用数组赋值，因此需要通过 arrymap()函数进行赋值。

### 新增多对 1、多对多关联表记录

当新增`多对1`、`多对多`关联实体记录时，支持两种场景

**在关联实体中级联新增记录**

![](/img/服务编排/活动节点/实体活动类/新增记录05.png)

注意：由于是级联新增场景，ID 是自增生成，因此无需对 ID 进行赋值。

**与关联实体中的已有记录关联**

配置如图所示

![](/img/服务编排/活动节点/实体活动类/新增记录06.png)

## 注意事项

联表新增只支持两级，即 A 与 B 是多对一，B 与 C 是一对一，那么可以进行 A 与 B、B 与 C 的联表新增操作，暂不支持 A 与 B 与三表的集联新增
