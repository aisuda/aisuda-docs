# 如何创建一个流程

流程设计时一个长线的过程，涉及很多模块，这里以审批场景为例，拆解常用的流程设计过程。

![image.png](/img/BPM引擎/流程设计/如何设计一个流程/image_b20a58e.png)

流程设计流程如下图所示
- 创建实体
- 创建表单视图：即创建需要人工任务中需要表单视图，图中包含填写场景、审批场景的表单视图
- 新建流程：创建业务流程
- 设计流程：在流程设计器中设计流程

## Step1 创建业务实体

创建用于存储流程数据的实体。

![image.png](/img/BPM引擎/流程设计/如何设计一个流程/image_3e5bc84.png)

## Step2 创建表单视图

**针对任务场景设计表单视图**

在填写节点、审批节点中需要使用表单视图作为任务详情页的一部分，因此针对不同的场景创建审批视图，大部分情况分成两类场景：表单填写场景、表单审批场景；这两类场景表单视图，部分场景下填写和审批使用的是同一个表单视图的场景。

具体的人工节点任务详情页的组成，详细参考[人工任务概述.md](ISUDA/BPM引擎/流程设计/节点描述/活动节点/人工节点/人工任务概述.md)



**通过字段权限**

如果统一使用一个表单的视图，也可以通过节点【字段操作权限】，设置部分字段的显示、隐藏、只读、编辑状态微调实际展示的审批视图。

![image.png](/img/BPM引擎/流程设计/如何设计一个流程/image_d279962.png)


## Step3 新建与设计流程

新建流程，并进入流程设计器设计流程。

### 设计器介绍

爱速搭提供可视化、拖拉拽进行业务流程的设计，整体流程设计器可以分成以下几个部分。
- 节点选择区
- 流程工具栏区：设置流程属性，绘图区缩放、历史版本等设置
- 属性面板区：流程属性、节点属性配置区，根据选择的目标
- 绘图区：流程绘图区，采用自由画布的模式，自由绘制业务流程

![image.png](/img/BPM引擎/流程设计/如何设计一个流程/image_5f74ec3.png)

### 流程组成

整个流程由以下要素组成：
- 事件：负责流程的启动与触发，如开始事件、延时事件等；
- 活动：表达流程需要做什么任务，包含人工任务节点（如人工填写、人工审批）、自动任务节点（如调用后端服务等）；
- 网关：扮演着流程决策者的概念，起着两大作用，拆分分支（按规则执行指定分支）、汇聚等待（即等待前面分支的执行完成）。

详细可参加[BPM概述](ISUDA/BPM引擎/BPM概述.md)

### 节点出参

设定节点出参的目的是为了便于后续的节点使用当前节点的出参，扮演着节点之间的协作媒介的作用。

典型场景：使用填写节点的数据进行审批
- 填写节点填写设置了出参【填写的采购单数据】；
- 后续的审批节点可以选择填写节点的出参【填写的采购单数据】作为审批对象，执行审批任务。
