---
id: 快应用卡片发布
---

### 发布前准备

快应用卡片发布前需要设置必要的基础信息。进入应用设置 -> 基本信息。上传卡片LOGO图片(需要符合快应用LOGO 规范，一般是1：1的图片)。设置应用包名，包名规范为com.company.key。

![image](/img/移动应用/快应用/快应用卡片发布/fabu1.png)

另外需要填写快应用CI配置，里面包含卡片的证书密钥信息，应用将使用此证书打包rpk文件。证书的生成参考[官方文档](https://doc.quickapp.cn/ide/certification.html)。

![image](/img/移动应用/快应用/快应用卡片发布/fabu2.png)

除此之外快应用发布前还可以对界面显示及使用的接口进行相关设置，界面包括窗口及标题栏颜色、是否显示标题栏、标题栏文字等。接口则是快应用运行时需要补充的自定义接口，默认我们将常用的系统接口均添加到了manifest.json文件配置里。如果还有自定义的接口补充可以添加此设置。例如微信支付的接口配置:

```
{
  "name": "service.wxpay",
  "params": {
    "package": "com.your.package",
    "sign": "abcdefg",
    "url": "http://your.domain/page"
  }
}
```

接口相关说明参考[此文档](https://doc.quickapp.cn/features/service/wxpay.html)

![image](/img/移动应用/快应用/快应用卡片发布/fabu4.png)

![image](/img/移动应用/快应用/快应用卡片发布/fabu3.png)

应用设置好就可以进行发布操作。

### 发布应用

进入应用后台 -> 应用发布。点击发布版本按钮，设置发布版本号及版本标题即可发起发布，注意快应用版本号只能包含数字及点号，例如1.0.1。

![image](/img/移动应用/快应用/快应用卡片发布/fabu5.png)

发布支持选择不同的环境，例如测试环境和沙盒环境，不同的环境应用是完全隔离的，互相不会受到干扰。每次发布都是一个完整的应用备份，可以通过环境和版本管理实现严格、规范的上线流程控制。也可以只使用测试环境来实现快速迭代，因为每次发布都会生成独立的rpk包，只要rpk包测试通过就可以进行提审发布操作。

![image](/img/移动应用/快应用/快应用卡片发布/fabu6.png)

发布默认是异步的，可以点击详情查看发布过程中的详细日志。日志中记录了应用源码初始化、依赖安装、应用编译等操作日志，如果应用发布报错，可以从日志中查看错误信息。例如如果是NPM依赖安装网络错误，可以重试下确认是否能正常下载。如果是rpk包体积超过限制(一般快应用卡片主包体积不能超过 1M)，则需要通过压缩页面图片体积等操作控制编译包不超过限制。

![image](/img/移动应用/快应用/快应用卡片发布/fabu7.png)

### 应用调试

发布成功后可以点击导出rpk包下载生成的rpk包，下载后发送到手机即可使用快应用官方或手机厂商提供的调试工具进行调试。

![image](/img/移动应用/快应用/快应用卡片发布/fabu8.png)

卡片调试的文档参考[手机厂商文档](https://developer.hihonor.com/cn/doc/guides/100150)。官方也有调试工具[说明](https://www.quickapp.cn/docCenter/post/69)。调试工具能对卡片及应用效果进行基本验证，并且支持查看调试日志，但不能完全还原真机情况。因此，最终效果最好在真机验证里进行验证。


> 卡片调试注意

卡片开发过程中需要注意卡片最外层不能设置精确高度，需要设置100%高度，跟随系统尺寸变化调整。如果调试的时候看不到卡片可以先给卡片最外层容器设置一个高度，例如300px，卡片调试完毕后需要将高度还原回去。


### 真机验证

手机厂商一般支持卡片在发布提审前进行真机验证，手机可以登录个人的手机厂商开发者账号来实现卡片的测试发布。发布后可以在登录开发者账号的手机上直接搜到卡片并预览真机效果。具体可以参考手机厂商开发者文档，例如[此文档](https://developer.hihonor.com/cn/doc/guides/100153)。

### 卡片提审

真机验证通过就可以在手机厂商开发者平台发布应用及卡片了，提审通过后快应用卡片就能在手机里搜索使用。具体参考手机厂商文档，例如[此文档](https://developer.hihonor.com/cn/doc/guides/100154)。