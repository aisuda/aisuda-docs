---
id: 小程序开发
---

### 步骤 1：创建小程序应用

新建应用选择小程序应用，填写基本信息。

![image](/img/移动应用/小程序/小程序开发/kaifa-01.png)

进入到小程序编辑器即可开始小程序设计。（1.组件列表 2.页面大纲树 3.页面变量参数设置 4.页面引用数据源）

![image](/img/移动应用/小程序/小程序开发/kaifa-02.png)

### 步骤 2：搭建数据模型或引用数据源

#### 方法一：根据小程序的功能需求，先设计依赖的实体数据模型

在实体管理中新建数据源。

![image](/img/移动应用/小程序/小程序开发/kaifa-04.png)

数据源新建后，新建实体模型 -> 模型设计。

![image](/img/移动应用/小程序/小程序开发/kaifa-03.png)

模型设计 -> 字段集合中配置该模型所需字段。

![image](/img/移动应用/小程序/小程序开发/kaifa-05.png)

#### 方法二：根据小程序的功能需求，配置依赖的 API，获取数据

在 API 管理中新建 API。

![image](/img/移动应用/小程序/小程序开发/kaifa-06.png)

配置 API 信息，配置「存入变量」方便其他 API 使用该 API 返回的数据；配置「query 转换」可以自定义请求参数的 key/value；配置「返回结果适配」，可以将返回数据格式处理成 amis 接受的数据格式，方便前端调用；配置「输出参数」是对请求返回值的声明，方便更清晰的调用。

![image](/img/移动应用/小程序/小程序开发/kaifa-07.png)

![image](/img/移动应用/小程序/小程序开发/kaifa-08.png)

请求地址中 host 可在应用设置->环境变量中配置，应用内共用。

![image](/img/移动应用/小程序/小程序开发/kaifa-10.png)

API 返回的数据格式要处理成 amis 可接受的数据格式，参考文档：https://baidu.github.io/amis/zh-CN/docs/types/api

![image](/img/移动应用/小程序/小程序开发/kaifa-11.png)

### 步骤 3：页面样式逻辑设计，绑定数据源

在此处引入页面所需数据源，一个页面可以引入多个数据源。
数据类型选择 API 时，选择具体 API（来自 API 管理），配置对应的请求参数。

![image](/img/移动应用/小程序/小程序开发/kaifa-12.png)

数据类型选择模型数据时，选择具体的数据源和模型，选择对应的用途，配置对应的参数。

![image](/img/移动应用/小程序/小程序开发/kaifa-13.png)

当前组件有布局，基础，列表，表单，营销几个大类。

![image](/img/移动应用/小程序/小程序开发/kaifa-14.png)

![image](/img/移动应用/小程序/小程序开发/kaifa-15.png)

组件属性，可配置组件数据以及一些其他基础配置。

![image](/img/移动应用/小程序/小程序开发/kaifa-17.png)

组件外观，可配置组件样式。

![image](/img/移动应用/小程序/小程序开发/kaifa-18.png)

组件事件，可配置组件交互逻辑动作。

![image](/img/移动应用/小程序/小程序开发/kaifa-16.png)
