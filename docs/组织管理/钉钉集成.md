---
id: 钉钉集成
---

平台可以通过集成钉钉实现组织架构同步、钉钉应用集成、流程消息打通钉钉通知等功能。

### 组织同步

组织同步功能能将钉钉的组织部门架构及成员信息同步到平台，简单几步即可完成配置：

#### 1、 进入系统集成-钉钉，查看组织同步需要填写的基本信息

![image.png](/img/组织管理/钉钉集成/data-01.jpg)

需要填写的信息主要包括：应用基础信息、应用地址、事件订阅。


#### 2、 创建钉钉对接应用

钉钉管理员需要进入钉钉网页版[开发者后台](https://open-dev.dingtalk.com/fe/app#/corp/app), 创建企业内部应用

![image.png](/img/组织管理/钉钉集成/data-02.jpg)

![image.png](/img/组织管理/钉钉集成/data-03.jpg)


#### 3、填写钉钉应用首页地址

打开[开发管理]，点击右上角编辑按钮，填写对应的首页地址。

![image.png](/img/组织管理/钉钉集成/data-04.jpg)

应用电脑端主页和手机端主页可以从平台钉钉集成那获取，应用首页地址可以填写PC端首页地址。另外钉钉需要填写服务器出口IP(公网IP)才能实现免登、事件订阅等功能。


#### 4、设置应用权限

在钉钉应用->权限管理里设置同步范围并设置通讯录接口权限。默认同步所有员工，如果同步部分员工则配置部分员工。

![image.png](/img/组织管理/钉钉集成/data-05.jpg)

应用必须要授权通讯录权限，否则同步时将无法获取组织成员数据。必须添加的权限有以下6个，请复制名称逐个搜索后，点击右侧的申请选择将会自动获取权限。

 - 通讯录部门信息读权限
 - 成员信息读权限
 - 通讯录部门成员读权限
 - 企业员工手机号信息
 - 个人手机号信息
 - 邮箱等个人信息

![image.png](/img/组织管理/钉钉集成/data-06.jpg)


#### 5、开启消息订阅

配置消息订阅支持在钉钉组织成员数据变更时，通过订阅消息机制自动同步到平台。进入钉钉后台-事件与回调，在订阅管理处获取加密aes_key和签名token(如未生成可以点击按钮重新生成)。将复制后的信息填写到平台钉钉集成的加密密钥和token处，同时将平台的事件通知地址复制到钉钉应用后台事件回调请求网址里。

![image.png](/img/组织管理/钉钉集成/data-07.jpg)

![image.png](/img/组织管理/钉钉集成/data-08.jpg)

如果钉钉后台保存成功，则代表事件订阅设置成功。如果无法请求注意先配置好应用公网服务器出口IP。

#### 6、发布钉钉应用

在钉钉应用后台-部署与发布里进行应用发布操作，如果应用有变更，会提示发布新版本。

![image.png](/img/组织管理/钉钉集成/data-08.jpg)


#### 7、同步组织架构

在平台管理中心-组织架构处点击组织同步，选择钉钉，点击确认同步即可触发异步同步任务，稍后平台将自动完成组织架构的同步。完成组织同步后即可在平台对不同成员设置角色及权限，成员可以通过钉钉直接打开对应的应用。注意组织同步对应的应用在钉钉打开将默认进入平台工作台，如果想在钉钉内直接通过钉钉应用列表打开单个应用，则需要新增钉钉应用级接入。


### 钉钉应用集成

钉钉应用接入无需处理组织同步信息，接入步骤比组织级别应用简单。只需要创建应用并填写应用的首页地址即可。应用的首页地址在平台应用-应用设置-系统集成里可以看到

![image.png](/img/组织管理/钉钉集成/data-10.jpg)


### 钉钉消息通知

在流程属性里，打开钉钉通知即可完成流程与钉钉通知的对接。流程流转时，将通过钉钉自动发送信息给对应的审批人，审批人可以在钉钉内点击链接直接登录应用进行审批操作。

![image.png](/img/组织管理/钉钉集成/data-11.jpg)