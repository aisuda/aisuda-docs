---
id: 更新记录
---

镜像的下载地址是 `registry.baidubce.com/aisuda/aisuda`，比如 `registry.baidubce.com/aisuda/aisuda:1.10.0`

## 2.4.0（2023-03-15）

此版本有数据库变更：
更新后需要访问 `/upgrade-db` 页面进行数据库升级。

```sql
CREATE TABLE `variable` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `app_id` int NOT NULL DEFAULT 0, `name` varchar(255) NOT NULL, `description` varchar(255) NOT NULL DEFAULT '', `schema` json NOT NULL, `scope` enum ('company', 'application') NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
DROP INDEX `IDX_015a193278e90d0e1de153be92` ON `o_auth`;
ALTER TABLE `notification_audience` ADD `deleted_at` timestamp(6) NULL;
ALTER TABLE `notification_audience` ADD `created_by` int NOT NULL DEFAULT 0;
ALTER TABLE `notification_audience` ADD `updated_by` int NOT NULL DEFAULT 0;
ALTER TABLE `notification_audience` ADD `deleted_by` int NOT NULL DEFAULT 0;
ALTER TABLE `notification_audience` ADD `company_id` int NOT NULL DEFAULT 0;
ALTER TABLE `notification_audience` ADD `kind` varchar(255) NOT NULL DEFAULT '';
ALTER TABLE `notification_audience` ADD `brief` varchar(255) NULL;
ALTER TABLE `notification_audience` ADD `detail` text NULL;
ALTER TABLE `notification_audience` ADD `config` json NULL;
CREATE INDEX `IDX_ea2da87960f6f046930330a17f` ON `o_auth` (`user_id`, `auth_type`);
ALTER TABLE `notification_audience` CHANGE `created_at` `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6);
CREATE INDEX `idx_company` ON `notification_audience` (`company_id`);
CREATE INDEX `idx_unread` ON `notification_audience` (`uid`, `company_id`, `status`, `created_at`);
CREATE TABLE `application_i18n_corpus` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL COMMENT '组织 ID', `app_id` int NOT NULL COMMENT '应用 ID', `uuid` varchar(255) NOT NULL COMMENT '语料 ID', `code` varchar(255) NOT NULL COMMENT '语料编码', `content` varchar(2000) NOT NULL COMMENT '语料内容', INDEX `app_i18n_corpus_ucac` (`uuid`, `code`, `app_id`, `company_id`), INDEX `app_i18n_corpus_cac` (`code`, `app_id`, `company_id`), INDEX `app_i18n_corpus_uac` (`uuid`, `app_id`, `company_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `user` ADD `locale` varchar(20) NULL;
ALTER TABLE `dictionary` ADD `encoded_type` tinyint NOT NULL COMMENT '字典编码类型 1:字符串 2:整形' DEFAULT 1;
ALTER TABLE `dictionary_release` ADD `encoded_type` tinyint NOT NULL COMMENT '字典编码类型 1:字符串 2:整形' DEFAULT 1;
CREATE TABLE `data_set_revision` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `data_set_id` int NOT NULL, `body` json NOT NULL, `jsonql` json NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `data_set` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `app_id` int NOT NULL, `data_source_key` varchar(255) NOT NULL, `key` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `acl` json NOT NULL, `group_key` varchar(255) NOT NULL DEFAULT 0, `v_id` int NOT NULL DEFAULT 0, `body` json NOT NULL, `jsonql` json NOT NULL, INDEX `IDX_d435e2cc2526760c9c75bde090` (`app_id`), INDEX `IDX_945c4ac32d01e79ed8153a473a` (`data_source_key`), INDEX `IDX_3967e8e4619d23148be5003194` (`key`), INDEX `IDX_a9fa620d5f915419d1ee7d4fe0` (`name`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `data_set_group` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `app_id` int NOT NULL, `key` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `acl` json NOT NULL, `order` int NOT NULL DEFAULT 0, INDEX `IDX_21604d6fe60e4cc07c9f56b865` (`app_id`), INDEX `IDX_b396043afb1990c97c07caa097` (`key`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `data_source` ADD `version` int NOT NULL DEFAULT 1;
CREATE TABLE `position_group` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `name` varchar(255) NOT NULL, `sequence` varchar(255) NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `order` int NOT NULL DEFAULT 0, PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `position` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `group_id` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `name` varchar(255) NOT NULL, `level` int NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', INDEX `IDX_d21180bfc56ff2451c17737962` (`company_id`), INDEX `IDX_4a13d928f8372cfada33b4695c` (`group_id`, `level`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `position_to_user` (`id` int NOT NULL AUTO_INCREMENT, `position_id` int NOT NULL DEFAULT 0, `user_id` int NOT NULL DEFAULT 0, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `created_by` int NOT NULL, INDEX `IDX_16d3af0c6df9f9dfb21082f000` (`position_id`), INDEX `IDX_651fee9c7776f09db2eae9b85d` (`user_id`), INDEX `IDX_ee7925e76a7f6fee294c1ca0c4` (`position_id`, `user_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `department_to_user` ADD `is_major` tinyint NOT NULL DEFAULT 0;
ALTER TABLE `department` ADD `manager_id` int NULL;
```

- 此版本内容:
  - 平台公共
    - 应用多语言
      - 支持用户使用应用时看到所有文本的多语言，包括但不限于常见的各类名称、描述及通知消息等
      - 支持在应用管理的多语言管理界面中配置语言设置和语料设置，语料支持单条操作或批量上传
      - 支持应用发布时控制发布应用支持的语言，并生成对应的语料数据，存放到发布产物中
  - 优化页面变量机制，支持页面变量的定义、绑定、赋值、参数跨页面传递场景
  - 扩充表达式函数，新增并优化数组、对象、时间、编码类表达式函数共13个
  - 扩充汇报关系，完善成员信息字段管理、成员管理、统一选人/选部门模块
  - 前端设计
    - 主题设计器新增下拉框/日期类/时间类组件，并优化了主题UI设计
    - 组件功能
      - 报表除数值指标组件外12个组件均支持事件动作，能通过事件动作满足简单的报表联动下钻场景
      - 优化状态组件、表格编辑框、富文本编辑器组件配置项面板
  - 流程引擎
    - 支持调用型子流程，主要应用在子流程可独立复用场景，如通过子流程内部约定的调度策略、数据传递规则进行触发等
    - 支持内嵌型子流程，主要应用在子流程内的某个事件定义作用域，比如子流程取消、子流程异常等
    - 支持事件型子流程，主要应用于订阅监听流程中的事件，当事件发生时，自动执行子流程
  - 其他板块
    - 修复部分已知问题
    - 独立应用支持 API 编排
    - API中心服务编排出参结构化

## 2.3.0（2023-01-13）

- 此版本内容：
  - API 编排
    - 连接器节点扩展短信发送能力（配置对应 AKSK）
    - 查询节点支持动态排序
  - 流程引擎
    - 流程设计支持自定义任务页，包括待办任务列表页及任务审批详情页
    - 流程超期规则设计及配置优化
    - 知会节点细节优化（主要为后端）
  - 前端设计
    - 事件动作
      - 防抖功能+可视化配置
      - 停止冒泡可视化配置
      - 可见性/可用性动作规则配置支持表达式
      - 文字、表格文字列支持事件配置
      - 上传组件的成功事件追加接口返回数据
    - 组件功能
      - 选人组件优化，PC 端和移动端展示字段支持平台统一配置
      - 部分组件扩充加载设置配置项，支持多 loading 场景的展示配置（主要为支持 API 加载数据的组件）
      - 布局容器组件优化
        - 布局相关配置交互优化
        - 吸顶、吸底容器合并为吸附容器
        - wrapper 组件统一替换为 container，并支持滚动吸附功能可视化配置
        - 新增自由容器组件，支持组件自由布局设计（自由容器直接子元素组件支持自由拖拽调整位置和参考位置配置项）
      - 组件扩展-NPM 扩展包方式支持 amis vue3.0 自定义组件
      - 组件模板支持复制功能，可基于现有组件模板创建一个新的组件模板
    - 主题风格设计器支持布局类、表单类等 17 个组件的样式自定义
    - 页面设计器 10+组件配置面板优化，以下组件请关注升级后的兼容性：
      - 树下拉和树选择组件合并为树选择框
      - 城市选择组件部分功能优化
      - mapping 组件优化，支持绑定数据字典
      - 组合输入 combo 部分功能优化
      - 输入组合 input-group 部分功能优化
    - 小程序和快应用自定义组件支持本地 Editor 调试功能
  - 平台公共
    - 权限模块支持查看日志权限控制
    - 集成模块支持对接飞书和企微的消息通知和事件订阅（仅独立部署版本可配置）
  - 其他
    - 修复部分已知问题
    - 流程引擎模块有重要技术架构升级，如有使用爱速搭平台流程功能请重点关注（非百度 BPM 平台）

## 2.2.1（2022-12-21）

此版本有数据库变更：
更新后需要访问 `/upgrade-db` 页面进行数据库升级。

```sql
ALTER TABLE `theme` ADD `config` json NULL;
ALTER TABLE `o_auth` CHANGE `auth_id` `auth_id` varchar(1024) NOT NULL DEFAULT '';
ALTER TABLE `o_auth` CHANGE `access_token` `access_token` varchar(1024) NOT NULL DEFAULT '';
ALTER TABLE `o_auth` CHANGE `refresh_token` `refresh_token` varchar(1024) NOT NULL DEFAULT '';
```

## 2.2.0（2022-12-8）

此版本有数据库变更：
更新后需要访问 `/upgrade-db` 页面进行数据库升级。

```sql
ALTER TABLE `object_storage` ADD `override_if_exists` tinyint NULL DEFAULT 0;
CREATE INDEX `IDX_d8c8964992149c4af93e665158` ON `object_storage` (`company_id`);
CREATE INDEX `IDX_151df4d796bbf46c041febf906` ON `object_storage` (`key`);
CREATE TABLE `shedlock` (`name` varchar(64) NOT NULL, `lock_until` timestamp(3) NOT NULL, `locked_at` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3), `locked_by` varchar(255) NOT NULL, PRIMARY KEY (`name`)) ENGINE=InnoDB;
CREATE TABLE `user_custom_fields` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `key` varchar(255) NOT NULL, `type` varchar(255) NOT NULL, `config` json NOT NULL, `modifiable` tinyint NOT NULL DEFAULT 0, `label` varchar(255) NOT NULL, `desc` varchar(255) NOT NULL DEFAULT '', `company_id` int NOT NULL, INDEX `IDX_5650cd620bb61a9d62cdfcf763` (`key`), INDEX `IDX_56ca02f7d74f86018cfa8311ef` (`type`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `user_custom_fields_value` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `field_key` varchar(255) NOT NULL, `field_value` varchar(255) NOT NULL, `field_id` int NOT NULL, `user_id` int NOT NULL, INDEX `IDX_dfd99ab3cd510333781a917009` (`user_id`), INDEX `IDX_74d3e7a76e6c5735b2bf9d07ab` (`user_id`, `field_key`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `user` ADD `username` varchar(255) NOT NULL DEFAULT '';
ALTER TABLE `user` ADD `order` int NOT NULL DEFAULT 0;
CREATE TABLE `trigger` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `key` varchar(255) NOT NULL, `name` varchar(64) NOT NULL, `type` varchar(64) NOT NULL, `op_type` varchar(64) NULL, `op_key` varchar(64) NULL, `config` json NULL, `app_id` int NOT NULL, `company_id` int NOT NULL, `source` varchar(10) NOT NULL, `attached` tinyint NOT NULL DEFAULT 0, INDEX `IDX_e72da65f79035c9fab068be5b2` (`key`), INDEX `IDX_a2d309ee29f6ccf3468ff031bb` (`op_type`), INDEX `IDX_8c38a2afc51622d30cd8d7bda4` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `trigger_event_relation` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `trigger_key` varchar(255) NOT NULL, `app_id` int NOT NULL, `company_id` int NOT NULL, `event_key` varchar(255) NOT NULL, `event_type` varchar(20) NOT NULL, INDEX `IDX_d955c9373b0e820a5a61c7df45` (`trigger_key`), INDEX `IDX_8a6a3dc0a4c65163c4bca5c6e6` (`event_key`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `trigger_runtime` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `trigger_key` varchar(255) NOT NULL, `scheduler_id` bigint NULL, `app_id` int NOT NULL, `company_id` int NOT NULL, `env` varchar(10) NOT NULL, `enable` tinyint NOT NULL DEFAULT 0, INDEX `IDX_3122242f85bc35e99d595e65db` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE INDEX `IDX_5a99ed030cf5d2e7fd9a85cc26` ON `trigger_runtime` (`app_id`, `trigger_key`, `env`);
ALTER TABLE `flow_runtime` ADD `exec_times` int NOT NULL DEFAULT 0;
CREATE TABLE `i18n_corpus` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `key` varchar(255) NOT NULL COMMENT '语料hash' DEFAULT '', `language` text NOT NULL COMMENT '具体翻译', `is_dirty` int NOT NULL COMMENT '是否是脏数据 0:不是 1:是' DEFAULT 0, `type` varchar(255) NOT NULL COMMENT '分类' DEFAULT '', `locale` int NOT NULL COMMENT '关联语种表id', INDEX `idx_locale` (`locale`), INDEX `idx_deleted_at` (`deleted_at`), UNIQUE INDEX `IDX_aa09b52055ce3ce8ea33ae1506` (`key`, `locale`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `i18n_corpus_release` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `corpus` json NULL COMMENT '语料', `env` varchar(255) NULL COMMENT '环境', `locale` int NOT NULL COMMENT '关联语种表id', INDEX `idx_locale` (`locale`), INDEX `idx_deleted_at` (`deleted_at`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `i18n_locale` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `code` varchar(255) NOT NULL COMMENT '语言编码', `edit_status` int NOT NULL COMMENT '编辑态 0:停用 1:启用' DEFAULT 0, `dev_status` int NOT NULL COMMENT '开发环境状态 0:停用 1:启用' DEFAULT 0, `status` int NOT NULL COMMENT '线上状态 0:停用 1:启用' DEFAULT 0, `order` int NOT NULL COMMENT '排序' DEFAULT 0, `name` varchar(255) NOT NULL COMMENT '名称', `description` varchar(1024) NOT NULL COMMENT '描述' DEFAULT '', INDEX `idx_edit_status` (`edit_status`), INDEX `idx_dev_status` (`dev_status`), INDEX `idx_status` (`status`), INDEX `idx_order` (`order`), INDEX `idx_deleted_at` (`deleted_at`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
INSERT INTO i18n_locale(`code`, `name`, `description`, `created_by`, `edit_status`, `dev_status`, `status`) VALUES
      ("zh-CN", "简体中文", "简体中文", 0, 1, 1, 1),
      ("en-US", "English", "英语(美国)", 0, 1, 1, 1),
      ("sq-AL", "shqip", "阿尔巴尼亚语", 0, 0, 0, 0),
      ("ar-DZ", "العربية‬‎", "阿拉伯语(阿尔及利亚)", 0, 0, 0, 0),
      ("az-AZ", "azərbaycan", "阿塞拜疆语(拉丁文)", 0, 0, 0, 0),
      ("et-EE", "eesti", "爱沙尼亚语", 0, 0, 0, 0),
      ("bg-BG", "български", "保加利亚语", 0, 0, 0, 0),
      ("is-IS", "íslenska", "冰岛语", 0, 0, 0, 0),
      ("pl-PL", "polski", "波兰语", 0, 0, 0, 0),
      ("bs-BA", "bosanski", "波斯尼亚语(拉丁文，波斯尼亚和黑塞哥维那)", 0, 0, 0, 0),
      ("ko-KR", "한국인", "韩语（朝鲜语）", 0, 0, 0, 0),
      ("da-DK", "dansk", "丹麦语", 0, 0, 0, 0),
      ("de-AT", "Deutsch", "德语(奥地利)", 0, 0, 0, 0),
      ("ru-RU", "русский", "俄语", 0, 0, 0, 0),
      ("fo-FO", "føroyskt", "法罗语", 0, 0, 0, 0),
      ("fr-FR", "français", "法语(法国)", 0, 0, 0, 0),
      ("fi-FI", "suomi", "芬兰语", 0, 0, 0, 0),
      ("ka-GE", "ქართული", "格鲁吉亚语", 0, 0, 0, 0),
      ("gu-IN", "ગુજરાતી", "古吉拉特语", 0, 0, 0, 0),
      ("kk-KZ", "қазақ тілі", "哈萨克语", 0, 0, 0, 0),
      ("nl-BE", "Nederlands", "荷兰语(比利时)", 0, 0, 0, 0),
      ("cs-CZ", "čeština", "捷克语", 0, 0, 0, 0),
      ("hr-HR", "hrvatski", "克罗地亚语", 0, 0, 0, 0),
      ("qu-BO", "quechua", "克丘亚语(玻利维亚)", 0, 0, 0, 0),
      ("lv-LV", "latviešu", "拉脱维亚语", 0, 0, 0, 0),
      ("lt-LT", "lietuvių", "立陶宛语", 0, 0, 0, 0),
      ("ro-RO", "română", "罗马尼亚语", 0, 0, 0, 0),
      ("mt-MT", "Malti", "马耳他语", 0, 0, 0, 0),
      ("mr-IN", "मराठी", "马拉地语", 0, 0, 0, 0),
      ("ms-MY", "Melayu", "马来语(马来西亚)", 0, 0, 0, 0),
      ("mk-MK", "македонски", "马其顿语(FYROM)", 0, 0, 0, 0),
      ("mi-NZ", "maori", "毛利语", 0, 0, 0, 0),
      ("mn-MN", "монгол", "蒙古语(西里尔文)", 0, 0, 0, 0),
      ("nn-NO", "norsk", "挪威语(尼诺斯克)(挪威)", 0, 0, 0, 0),
      ("pa-IN", "ਪੰਜਾਬੀ", "旁遮普语", 0, 0, 0, 0),
      ("pt-BR", "português", "葡萄牙语(巴西)", 0, 0, 0, 0),
      ("ja-JP", "日本語", "日语", 0, 0, 0, 0),
      ("sv-SE", "svenska", "瑞典语", 0, 0, 0, 0),
      ("sr-SP", "srpskohrvatski", "塞尔维亚(拉丁)", 0, 0, 0, 0),
      ("sk-SK", "slovenčina", "斯洛伐克语", 0, 0, 0, 0),
      ("sl-SI", "slovenščina", "斯洛文尼亚语", 0, 0, 0, 0),
      ("sw-KE", "Kiswahili", "斯瓦希里语", 0, 0, 0, 0),
      ("te-IN", "తెలుగు", "泰卢固语", 0, 0, 0, 0),
      ("ta-IN", "தமிழ்", "泰米尔语", 0, 0, 0, 0),
      ("th-TH", "ไทย", "泰语", 0, 0, 0, 0),
      ("tr-TR", "Türkçe", "土耳其语", 0, 0, 0, 0),
      ("cy-GB", "Cymraeg", "威尔士语", 0, 0, 0, 0),
      ("uk-UA", "українська", "乌克兰语", 0, 0, 0, 0),
      ("uz-UZ", "o'zbek", "乌兹别克语(拉丁文)", 0, 0, 0, 0),
      ("es-ES", "español", "西班牙语(国际)", 0, 0, 0, 0),
      ("he-IL", "‎‫עברית", "希伯来语", 0, 0, 0, 0),
      ("el-GR", "Ελληνικά", "希腊语", 0, 0, 0, 0),
      ("hu-HU", "magyar", "匈牙利语", 0, 0, 0, 0),
      ("hy-AM", "հայերեն", "亚美尼亚语", 0, 0, 0, 0),
      ("it-IT", "italiano", "意大利语(意大利)", 0, 0, 0, 0),
      ("hi-IN", "हिन्दी", "印地语", 0, 0, 0, 0),
      ("id-ID", "Indonesia", "印度尼西亚语", 0, 0, 0, 0),
      ("vi-VN", "Tiếng Việt", "越南语", 0, 0, 0, 0),
      ("zu-ZA", "isiZulu", "祖鲁语", 0, 0, 0, 0);;

```

此版本内容：

1. 报表组件：新增线柱混搭（双 Y 轴）；新增环状饼图，玫瑰图饼图；数值指标支持对接上下文数据，环形进度图新增“仪表盘”模式及相关配置功能；
2. 移动应用：移动应用表单类组件支持外观样式配置；新增城市组件，级联选择器组件；支持移动应用源码和编译后产物通过 GIT 推送至代码库；
3. 布局能力升级：新增布局容器组件，支持包括经典，悬浮，吸顶，吸底，X 轴滚动和 Y 轴滚动等常见布局容器，固定和绝对定位容器元素支持自由拖拽位置；
4. 事件动作：Chart 组件支持事件动作，SearchBox 组件与 Iframe 组件（支持事件动作，暂无可视化配置），页面、Service、Chart 组件支持初始化事件；
5. 支持组织管理员选择人员展示字段，优化选人组件展示方式；
6. 登录页样式优化，新增多语言切换入口；
7. 表达式语法统一、交互优化；
8. select 与 transfer 组件支持虚拟滚动；
9. 若干 bug 修复。

【注意事项】
报表不兼容历史版本，如环形进度图组件历史数据不兼容无法显示。

## 2.1.0（2022-10-31）

此版本有数据库变更

更新后需要访问 `/upgrade-db` 页面进行数据库升级，或手动执行下面的 SQL

```sql
CREATE TABLE `theme_revision` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `theme_id` int NOT NULL, `body` json NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `theme` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL DEFAULT 0, `app_id` int NOT NULL DEFAULT 0, `key` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `type` int NOT NULL, `draft` json NOT NULL, `v_id` int NOT NULL DEFAULT 0, INDEX `IDX_7b0e03a94450de6bb2114896b2` (`key`), INDEX `IDX_5be2c2e7186ad7cbd83f94fb4d` (`name`), UNIQUE INDEX `REL_503a2cab21deed780c52ea7cfe` (`v_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `resource` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `app_id` int NOT NULL, `name` varchar(255) NOT NULL, `en_name` varchar(255) NOT NULL, `type_id` int NOT NULL, `size` varchar(255) NOT NULL DEFAULT '', `config` json NOT NULL, `resource_type` int NOT NULL DEFAULT 1, `description` varchar(1024) NOT NULL DEFAULT '', `acl` json NOT NULL, `order` int NOT NULL DEFAULT 0, `path` longtext NOT NULL, `from` int NOT NULL, INDEX `IDX_98983e0e1a64007ea4a8e2dca3` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `resource_group` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `app_id` int NOT NULL, `name` varchar(255) NOT NULL, `type_id` varchar(255) NOT NULL, `resource_type` int NOT NULL DEFAULT 1, `description` varchar(1024) NOT NULL DEFAULT '', `acl` json NOT NULL, `order` int NOT NULL DEFAULT 0, INDEX `IDX_7bc6e6d0eea228295d830d7a36` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `custom_widget_npm_component` ADD `npm_type` varchar(255) NOT NULL COMMENT '自定义组件类型: amis-widgets 或者 aipage-widgets' DEFAULT 'amis-widgets';
ALTER TABLE `custom_widget_npm_component` ADD `device` json NULL COMMENT '设置类型，目前支持的类型: pc、mobile、app、quickapp';
ALTER TABLE `custom_widget_npm` ADD `npm_type` varchar(255) NOT NULL COMMENT '自定义组件类型: amis-widgets 或者 aipage-widgets' DEFAULT 'amis-widgets';
ALTER TABLE `custom_widget_npm_component` CHANGE `usage` `usage` int NOT NULL COMMENT '支持的渲染器类型，0 展示类, 1 表单项, 2 选择器' DEFAULT 0;
ALTER TABLE `custom_widget_npm_component` CHANGE `sort` `sort` int NULL COMMENT '排序：用于设置展示优先级，数值越小越靠前展示';
ALTER TABLE `custom_widget_npm_component` CHANGE `status` `status` int NOT NULL COMMENT '状态，0 禁用, 1 启用' DEFAULT 1;
CREATE TABLE `widget_template` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `name` varchar(255) NOT NULL COMMENT '组件模板名称', `description` varchar(255) NOT NULL COMMENT '组件模板说明', `app_id` int NOT NULL COMMENT '应用 ID', `company_id` int NOT NULL COMMENT '组织 id', `widget_type` int NOT NULL COMMENT '组件模板类型: 0 amis组件、1 aipage组件、2 小程序、3 快应用、4 快应用卡片', `version` int NOT NULL COMMENT '组件模板版本ID', `type` int NOT NULL COMMENT '组件分类ID', `status` int NOT NULL COMMENT '状态，0 禁用, 1 启用' DEFAULT 1, `tag` json NULL COMMENT '标签：组件模板标签，比如「展示」、「功能」、「布局」等', `sort` int NULL COMMENT '排序：用于设置展示优先级，数值越小越靠前展示', `custom_preview_img` varchar(255) NOT NULL COMMENT '自定义预览图', `screenshot` varchar(255) NOT NULL COMMENT '预览图（编辑器端保存时前端截取的效果图）', INDEX `IDX_cb9b56b004d4767194ad1df70c` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `widget_template_data` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `body` mediumtext NOT NULL COMMENT '组件模板内容', PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `widget_template_group` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `name` varchar(255) NOT NULL COMMENT '分类名称', `description` varchar(255) NOT NULL COMMENT '分类说明', `app_id` int NOT NULL COMMENT '应用 ID', `company_id` int NOT NULL COMMENT '组织 id', `order` int NULL COMMENT '排序：用于设置展示优先级，数值越小越靠前展示', INDEX `IDX_3b7dbbf91d29cbc9cb5e92c424` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `widget_template` CHANGE `description` `description` varchar(255) NULL COMMENT '组件模板说明';
ALTER TABLE `widget_template` CHANGE `version` `version` int NULL COMMENT '组件模板版本ID';
ALTER TABLE `widget_template` CHANGE `custom_preview_img` `custom_preview_img` varchar(255) NULL COMMENT '自定义预览图';
ALTER TABLE `widget_template` CHANGE `screenshot` `screenshot` varchar(255) NULL COMMENT '预览图（编辑器端保存时前端截取的效果图）';
ALTER TABLE `widget_template_group` CHANGE `description` `description` varchar(255) NULL COMMENT '分类说明';
ALTER TABLE `widget_template_data` ADD `widget_id` int NOT NULL COMMENT '组件模板 ID';
ALTER TABLE `widget_template` CHANGE `version` `template_data_id` int NULL COMMENT '组件模板ID';
ALTER TABLE `resource_group` ADD `parent_id` int NOT NULL DEFAULT 0;
ALTER TABLE `resource_group` CHANGE `type_id` `type_id` varchar(255) NOT NULL DEFAULT '';
CREATE TABLE `icon` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `theme_id` int NOT NULL, `name` varchar(255) NOT NULL, `en_name` varchar(255) NOT NULL, `type_id` int NOT NULL DEFAULT 0, `size` varchar(255) NOT NULL DEFAULT '', `config` json NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `acl` json NOT NULL, `order` int NOT NULL DEFAULT 0, `path` longtext NOT NULL, INDEX `IDX_c295d193ecb2e74886450d789b` (`theme_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `icon_group` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `theme_id` int NOT NULL, `name` varchar(255) NOT NULL, `parent_id` int NOT NULL DEFAULT 0, `description` varchar(1024) NOT NULL DEFAULT '', `acl` json NOT NULL, `order` int NOT NULL DEFAULT 0, `type_id` varchar(255) NOT NULL DEFAULT '', INDEX `IDX_16e99d36f29a32f06c73d00973` (`theme_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
DROP INDEX `User_auth_type_unique` ON `o_auth`;
CREATE INDEX `IDX_015a193278e90d0e1de153be92` ON `o_auth` (`user_id`);
CREATE INDEX `IDX_e7f731ff3bf4280bc1600b3613` ON `o_auth` (`auth_type`);
CREATE INDEX `IDX_4160e27a6c487ebc40e59ef10a` ON `flow` (`enabled`, `company_id`, `start_trigger`, `created_at`);
CREATE INDEX `IDX_857dda21af0f1f0e9b41f6e752` ON `flow_data` (`company_id`, `env`, `flow_id`);
CREATE INDEX `IDX_09eba7a1559e54dcf81f85e57c` ON `flow_data` (`created_by`, `company_id`, `status`, `env`);
CREATE INDEX `IDX_8b4afe29f81250f5dee081da64` ON `flow_node` (`transactor_id`, `status`, `active`);
CREATE INDEX `IDX_64940f12dd52553718934b7c85` ON `flow_collect` (`company_id`, `created_by`, `env`);
ALTER TABLE `dictionary_release` ADD `env` varchar(255) NULL COMMENT '数据字典环境 开发(dev)、测试(qa)、沙盒(sandbox)、线上(latest)' DEFAULT 'env';
ALTER TABLE `dictionary_release` ADD `app_version` varchar(255) NULL COMMENT '应用版本信息';
ALTER TABLE `dictionary_release` ADD `invalid` tinyint NOT NULL COMMENT '是否失效 0:不失效 1:失效' DEFAULT 0;
ALTER TABLE `dictionary_release` CHANGE `dic_id` `dic_id` int NULL COMMENT '关联的字典ID';
CREATE INDEX `IDX_eab0b261ff1b54360659992ef0` ON `dictionary_release` (`env`);
CREATE INDEX `IDX_81a4000c0fa120eaa83c3f4ce2` ON `dictionary_release` (`app_version`);
CREATE INDEX `IDX_baedf7a35a7cfda07809106f6a` ON `dictionary_release` (`invalid`);
```

此版本有主题更新

更新后需在平台级主题管理中`更新预设主题`

## 2.0.0（2022-10-10）

本次升级涉及部分私有化专属高级功能，试用版暂不支持，感谢理解。API 管理功能&交互全面升级，欢迎大家详尽体验。如对本版本有意见、建议等，欢迎反馈至aisuda@baidu.com。

此版本有数据库变更

更新后需要访问 `/upgrade-db` 页面进行数据库升级，或手动执行下面的 SQL

```sql
DROP INDEX `User_auth_type_unique` ON `o_auth`
CREATE INDEX `IDX_015a193278e90d0e1de153be92` ON `o_auth` (`user_id`)
CREATE INDEX `IDX_e7f731ff3bf4280bc1600b3613` ON `o_auth` (`auth_type`)
```

- 版本内容：
  - API 管理前后端全面更新
    - 原「多接口聚合」升级为「服务编排」
    - 原新建入口「新建」可下拉选择「服务编排」，设计入口为操作栏「服务编排」
    - 服务编排设计器全面升级，可视化程度大幅提高，结构更清晰
      - 新增服务编排源码查看功能，可直接查看源码信息
      - 所有节点均支持自定义节点标题
      - 原分支条件定义交互改为点击分支连线，并增加可视化配置条件能力
      - 下线原顺序执行、并行执行节点，改为分支间并行执行，分支内串行执行（原多接口聚合中如包含会自动兼容）
      - 原各节点的「存入变量」升级为「节点出参」并新增可视化绑定功能
      - 节点扩展
        - 服务编排新增调用流程节点，可调用平台定义的流程
        - 新增发送消息节点，可自定义消息内容和接收成员并发送站内信
      - 原节点大量功能升级，可查看操作文档了解更新细节
    - 原「单个接口」升级为「API」
      - 原新建入口「新建」可下拉选择「API」，创建 API 并进行配置
      - API 编辑表单交互优化，结构更清晰，配置门槛大幅降低
      - 原「请求参数转换」升级为请求配置中「Body」参数转换
      - 请求配置的参数转换在原功能的基础上，新增公式编辑器配置能力
      - 认证鉴权新增第三方签名，可配置签名接口和自定义过期时间
  - 新增应用级操作日志功能，可分环境进行日志查看
    - 开发环境的日志查看入口为：应用开发环境>应用设置>应用管理>日志
    - 测试、沙盒、线上等运行环境日志查看入口为：应用运行态>应用日志
  - 平台 openAPI 支持针对不同的外部系统分配不同的 token
    - 支持单独对每一个 token 进行权限管理
    - 支持查看不同 token 的调用记录
  - 新增账号密码登录机制&应用级登录鉴权
    - 组织描述信息扩展，支持工号字段
    - 支持账号密码登录，且支持设置密码过期、重置等功能
    - 支持应用级登录鉴权方式配置
  - 部分组件属性面板优化
  - 修复部分已知 bug&问题

## 1.11.0

此版本有数据库变更

更新后需要访问 `/upgrade-db` 页面进行数据库升级，或手动执行下面的 SQL

```sql
CREATE TABLE `jwt_public_key` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `title` varchar(255) NOT NULL, `company_id` int NOT NULL, `app_id` int NOT NULL DEFAULT 0, `user_id` int NOT NULL DEFAULT 0, `client_id` varchar(255) NOT NULL, `public_key` text NOT NULL, `is_wildcard` tinyint NOT NULL, `status` int NOT NULL DEFAULT 1, `api_list` json NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
```

- 版本内容：
  - 修复部分已知问题

## 1.10.0（2022-09-14）

此版本有数据库变更

更新后需要访问 `/upgrade-db` 页面进行数据库升级，或手动执行下面的 SQL

```sql
ALTER TABLE `application_entry` ADD `order` int NOT NULL DEFAULT 0;
ALTER TABLE `application_entry` ADD `is_mobile_display` tinyint NOT NULL DEFAULT 0;
CREATE TABLE `dictionary` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `sequence` int NOT NULL COMMENT '字典序号' DEFAULT 0, `name` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '字典标签' DEFAULT '', `encoded` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '字典编码' DEFAULT '', `type` tinyint NOT NULL COMMENT '字典类型 1:列表 2:树形' DEFAULT 1, `is_enable` tinyint NOT NULL COMMENT '是否启用 0:未启用 1:已启用' DEFAULT 0, `version` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '字典版本' DEFAULT '', `status` tinyint NOT NULL COMMENT '字典状态 0:未发布 1:已发布 2:有更新' DEFAULT 0, `comment` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '说明' DEFAULT '', `extended_properties` json NULL COMMENT '扩展属性', `level` tinyint NOT NULL COMMENT '字典级别 1:组织级别 2:应用级别' DEFAULT 1, `company_id` int NOT NULL COMMENT '组织Id', `app_id` int NULL COMMENT '应用Id', INDEX `IDX_6afe4421f5752dfe3ea37be7f1` (`sequence`), INDEX `IDX_e7ccd768bd0206fac4e2ca1462` (`company_id`), INDEX `IDX_b49c5c35c2fc03cc4d5282dc27` (`app_id`), INDEX `IDX_417df4deffd975e556d263c3f5` (`deleted_at`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `dictionary_item` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `dic_id` int NOT NULL COMMENT '关联的字典ID', `pid` int NOT NULL COMMENT '字典项的父ID' DEFAULT 0, `sequence` int NOT NULL COMMENT '字典序号' DEFAULT 0, `root_id` int NOT NULL COMMENT '树形结构字典的根结点ID' DEFAULT 0, `name` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '字典标签' DEFAULT '', `encoded` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '字典编码' DEFAULT '', `comment` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '说明' DEFAULT '', `is_enable` tinyint NOT NULL COMMENT '是否启用 0:未启用 1:已启用' DEFAULT 1, `content` json NULL COMMENT '字典项其它属性', INDEX `IDX_942e26a93b9d381c8eddee3887` (`dic_id`), INDEX `IDX_633b7e04a32c584a8104408ac5` (`pid`), INDEX `IDX_7538cd0a809cba3d0df99d0d13` (`sequence`), INDEX `IDX_1a2cc9a46b16f6c690d3454702` (`root_id`), INDEX `IDX_4d36d98b7762f4fe1ac44b55ba` (`deleted_at`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `dictionary_release` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `dic_id` int NOT NULL COMMENT '关联的字典ID', `sequence` int NOT NULL COMMENT '字典序号' DEFAULT 0, `name` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '字典标签' DEFAULT '', `encoded` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '字典编码' DEFAULT '', `type` tinyint NOT NULL COMMENT '字典类型 1:列表 2:树形' DEFAULT 1, `is_enable` tinyint NOT NULL COMMENT '是否启用 0:未启用 1:已启用' DEFAULT 0, `version` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '字典版本' DEFAULT '', `comment` varchar(255) COLLATE "utf8mb4_unicode_ci" NOT NULL COMMENT '说明' DEFAULT '', `extended_properties` json NULL COMMENT '扩展属性', `level` tinyint NOT NULL COMMENT '字典级别 1:组织级别 2:应用级别' DEFAULT 1, `content` json NULL COMMENT '字典项详情', `company_id` int NOT NULL COMMENT '组织Id', `app_id` int NULL COMMENT '应用Id', INDEX `IDX_e86b6b4bc03906685ac28c3f23` (`dic_id`), INDEX `IDX_c9f32f5d4c83d8b9d83fa0e459` (`sequence`), INDEX `IDX_62943f12921912f5d2d374ca0c` (`company_id`), INDEX `IDX_ab93ad6703d9a15d65bed6e08d` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
```

- 版本内容：
  - 🚀 新增应用门户管理功能，支持定义多角色门户页面，菜单。
    - 新增 3 个 PC 应用框架，4 个移动应用框架。
    - 支持灵活配置门户菜单，菜单页签类型支持应用页面，系统页面。
    - 支持多角色控制门户访问权限。
    - 工作台增加多门户展示入口。
  - 修复部分已知 bug。
- 注意事项：
  - 升级后，您可以在门户管理中设置页面框架，原应用设置中的页面框架只做展示。

## 1.9.1

```sql
ALTER TABLE `storage` ADD `size` int NOT NULL DEFAULT 0;
ALTER TABLE `department_to_user` ADD `disabled` tinyint NOT NULL DEFAULT 0;
ALTER TABLE `user` ADD `uid` varchar(255) NOT NULL DEFAULT '';
ALTER TABLE `user` ADD `pw` varchar(255) NOT NULL DEFAULT '';
ALTER TABLE `user` ADD `profile` json NOT NULL;
CREATE INDEX `IDX_df955cae05f17b2bcf5045cc02` ON `user` (`uid`);
CREATE INDEX `IDX_065d4d8f3b5adb4a08841eae3c` ON `user` (`name`);
CREATE INDEX `IDX_8e1f623798118e629b46a9e629` ON `user` (`phone`);
CREATE INDEX `IDX_099c9c762da0ec03e5ff12b693` ON `user` (`pw`);
CREATE TABLE `application_config_history` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `app_id` int NOT NULL, `company_id` int NOT NULL DEFAULT 0, `from` varchar(255) NOT NULL DEFAULT '', `title` varchar(255) NOT NULL DEFAULT '', `config` json NOT NULL, INDEX `IDX_f3c1f168e1abe92492644e703d` (`app_id`), INDEX `IDX_d4e92721655e4fb02abc31ec8f` (`company_id`), INDEX `IDX_f888a831520144c44c2997c8a8` (`from`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `reporting_relationship` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `parent_id` int NULL, `company_id` int NOT NULL, `order` int NOT NULL DEFAULT 0, `user_id` int NOT NULL DEFAULT 0, `acl` json NOT NULL, `mpath` varchar(255) NULL DEFAULT '', INDEX `IDX_9ed1d338cc8923e1dfea6c9f8f` (`company_id`), INDEX `IDX_24acc29ed515f9cfeec7889b69` (`user_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `application` ADD `h_id` int NOT NULL DEFAULT 0;
CREATE INDEX `IDX_f840e8ae1c80c7acb64dc66811` ON `department` (`company_id`);
CREATE INDEX `IDX_9e24eaed8aec9d111d040e3cba` ON `role_member` (`department_id`);
CREATE INDEX `IDX_9b135c9104d05cdb06a433f413` ON `role_member` (`user_id`);
CREATE INDEX `IDX_0faf8ea7956112a4f3a4c56926` ON `role_member` (`sub_role_id`);
```

## 1.9.0（2022.8.8）

此版本有数据库变更

更新后需要访问 `/upgrade-db` 页面进行数据库升级，或手动执行下面的 SQL

```sql
ALTER TABLE `form` ADD `type` varchar(255) NOT NULL DEFAULT 'form';
ALTER TABLE `form` ADD `relation_key` varchar(255) NULL;
CREATE TABLE `aisuda_datasource_generator` (`id` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键', `app_id` int(11) NOT NULL COMMENT '应用id' DEFAULT 0, `ds_id` int(11) NOT NULL COMMENT '数据源id' DEFAULT 0, `tag` varchar(32) NOT NULL COMMENT 'qa/dev/sandbox/online' DEFAULT '', `config_md5` varchar(32) NOT NULL COMMENT '配置md5', `express_md5` varchar(32) NOT NULL COMMENT '时间md5', `jar_md5` varchar(32) NOT NULL COMMENT 'jar包md5', `status` int(4) NOT NULL COMMENT '生效状态，0:失效 1:生效' DEFAULT 1, `content` longblob NOT NULL COMMENT 'jar包内容', `version` varchar(255) NOT NULL COMMENT '版本' DEFAULT '', `request_id` varchar(255) NOT NULL COMMENT '生成记录对应的requestId' DEFAULT '', `generated_by` varchar(128) NOT NULL COMMENT '创建来源，值为engine或webserver' DEFAULT '', `create_time` timestamp NOT NULL COMMENT '创建时间' DEFAULT '1971-01-01 00:00:00', `update_time` timestamp NOT NULL COMMENT '创建时间' DEFAULT '1971-01-01 00:00:00', INDEX `union_key` (`status`, `tag`, `app_id`, `ds_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `company` ADD `apply_info` json NOT NULL;
CREATE INDEX `IDX_60958179d4024b48b075a3756e` ON `data_model_revision` (`dm_id`);
CREATE INDEX `IDX_2d30dd6a6d9cf228b53429e430` ON `data_model_revision` (`ds_id`);
CREATE INDEX `IDX_02da844fb6a1f94a5b2614b631` ON `application_release` (`status`);
CREATE INDEX `IDX_03e0116ef4216f4074cb4b099e` ON `application_release` (`created_at`);
CREATE INDEX `IDX_8741b4cd7f785ced613b759fad` ON `page_statistic` (`env`);
CREATE INDEX `IDX_61666694fdbb5c7689136d9c04` ON `page_statistic` (`created_at`);
```

- 版本内容：
  - 🚀 组件功能与交互升级，提升组件可视化配置体验
    - 优化 15 个系统组件，属性面板交互、组件设计交互体验提升，主要包括
      - 表单项：级联选择器、链式选择器、数字框、滑块、颜色框
      - 展示类：超链接、头像
      - 容器类：锚点导航、iFrame、容器、面板、web-component
      - 按钮类：下拉按钮、按钮组、按钮点选
    - 事件动作配置面板升级，增强覆盖度，提升配置体验
      - 扩充更多组件支持事件监听和特性动作配置
      - 优化动作分类，支持搜索，帮助快速定位所需动作
      - 设置组件数据动作支持可视化选择字段名（针对表单），降低配置成本
      - 修复可视化配置展示问题
    - 支持 30+组件默认值可视化配置，可通过公式编辑器快速关联数据域内其他变量并进行计算
    - 组件列表 icon 升级
  - 修复部分已知问题
  - 应用独立部署 Java 版本请升级到 jdk11

## 1.8.0（2022.7.4）

此版本有数据库变更

```sql
CREATE TABLE `connector` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `app_id` int NOT NULL, `name` varchar(255) NOT NULL, `key` varchar(255) NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `type` varchar(255) NOT NULL DEFAULT 'custom', `tag` varchar(255) NOT NULL, `status` int NOT NULL DEFAULT 1, `config` json NOT NULL, `version` int NULL, `order` int NOT NULL DEFAULT 0, INDEX `IDX_77d8a2db015c351f8398588672` (`app_id`), INDEX `IDX_4b29001cd7cb2faec02584a1dc` (`key`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `connector_method` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `app_id` int NOT NULL, `key` varchar(255) NOT NULL, `tag` varchar(255) NOT NULL, `status` int NOT NULL DEFAULT 1, `type` varchar(255) NOT NULL DEFAULT 'api', `title` varchar(255) NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `brief` varchar(255) NOT NULL, `config` json NOT NULL, `refs` json NULL, `connector_id` int NOT NULL DEFAULT 0, INDEX `IDX_12449c726c9fb3a0696368945b` (`app_id`), INDEX `IDX_f746faef0e0c011f9a6d7ce861` (`key`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
```

- 平台功能升级
  - 🚀 升级 页面可视化设计器
    - 新增前端组件事件动作功能，开放 30+组件事件/动作，支持前端交互、组件联动、数据提交等场景的动作可视化配置，让交互设计更加灵活
    - 新增常用功能快捷键，支持复制、粘贴、剪切、删除、上移、下移、预览等功能快捷键，让操作更加便捷
    - 升级 21 个前端表单项组件配置面板，降低配置门槛，提升交互体验
    - 优化前端组件分类，合并部分表单项组件，助您快速定位所需组件：
      - 文本类组件（单行文本、密码框、邮框、url 框）合并为【文本框】组件；
      - 日期类组件（时间、日期、年、季、月）合并为【日期】组件；
      - 日期范围类组件（时间范围、日期范围、年范围、季范围、月范围）合并为【日期范围】组件。
  - 🚀 升级 amis 版本至 2.x
  - 🚀 升级 小程序
    - 新增搜索组件、列表选择组件
    - 新增退出登录、保存图片、发起分享等动作
    - 支持列表内序号展示与筛选
  - 🔥 新增 连接器功能
    - 支持调用第三方服务、数据，增强集成能力；
    - 预置百度智能云公有云 AI 服务，如：人脸识别、文字识别、图像识别、内容审核、自然语言处理等，只需简单配置，即可在服务编排中快速使用。
- 问题修复
  - 实体(数据模型)相关问题
  - 流程引擎相关问题
  - 独立应用部署相关问题
  - 登录用户 ID 错误、个人中心信息获取失败、跳转参数问题
  - 应用级别操作日志申请人筛选不生效问题

## 1.7.0（2022-05-20）

此版本有数据库变更

```sql
CREATE TABLE `flow_runtime` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `company_id` int NOT NULL, `app_id` int NOT NULL, `env` varchar(255) NOT NULL DEFAULT 'dev', `flow_id` int NOT NULL, `scheduler_id` int NULL, `enabled` tinyint NOT NULL, `status` int NOT NULL, INDEX `IDX_338e212044e716b6b005715bc7` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `scheduler` ADD `times` int NOT NULL DEFAULT 0;
ALTER TABLE `object_storage` ADD `region` varchar(255) NULL DEFAULT '';
```

- 平台功能升级
  - NPM 组件
    - 支持内网导入
  - 流程功升级
    - 流程设计器整体改版
    - 流程触发过滤器
    - 流程更新/新增/查询 记录节点支持主子表
    - 流程超期提醒
    - 流程找人规则扩展
    - 应用级待办中心/流程中心
  - amis 版本升级 1.9.1-beta.11
    - 优化月份范围展现
    - 修复邮编校验不准确问题
  - 对象存储支持配置 region
  - 数据库支持配置时区
  - email smtp 支持 sslv3
- 问题修复
  - 初始化安装报错
  - 表单明细表问题
  - 数据库名是 id 时表名不能是 id 前缀

## 1.6.2（2022-05-05）

- 平台功能升级
  - 个人中心显示所属角色信息
- 问题修复
  - 修复初始安装报错
  - 修复修改组织 key 后缓存问题

## 1.6.1（2022-04-26）

- 平台功能升级
  - amis 版本升级到 1.9.0-beta.12
  - amis-editor 版本升级到 4.1.0-beta.19
  - api 路径中支持表达式
  - 数据库变更日志添加发布版本的日志信息查看功能
  - 数据库字段变更尽可能用 change 而不是 drop
  - 优化数据导入性能
  - 流程增加数据模型增删改查节点
- 问题修复
  - 修复 oracle 关闭连接时可能报错问题
  - 修复枚举值不展示的问题
  - 修复编辑器预览不支持 raw: 问题
  - 修复关系多, 关系 alias 有可能重复的问题
  - 修复模型设计添加字段打不开的问题
  - 数据模型详情不应该返回数据模型详情
  - 修复 schemaEditor 下发属性不规范导致编辑器预览中的 form 数据重置问题
  - 模型设计的软删关闭后，历史删除数据会再次出现的问题

## 1.6.0（2022-04-01）

- 功能更新

  - amis 升级到最新的 1.8.0 版本，changelog 见：https://github.com/baidu/amis/releases/tag/1.8.0
  - amis-editor 升级到 4.1.0-beta.4
  - 增加监控检查接口
  - 新增「展示页面」，具备独立编辑器，适用于首页类页面编辑
  - 数据模型支持 Oracle、SQL Server、Postgres
  - 应用导入导出支持表单及流程
  - 应用独立部署支持 api 编排及数据模型功能
  - 支持组织级别自定义 NPM 组件
  - 新增小程序编辑器
  - 数据模型支持配置级联删除选项，在一对多和一对一时，可以不级联删除
  - 优化组织架构权限,单纯的经理也可以访问此页面
  - 多对一关系表中字段可以平铺出来展示、编辑、新增及查询
  - 同步模式扩充变更 SQL 语句确认框
  - 流程审批、工作台移动化
  - 流程历史版本
  - 流程设计器交互体验优化

- 问题修复
  - 修复 vue3 自定义组件报错
  - 修复应用列表页后端查询过多数据导致性能问题
  - 手动终止的流程没有显示在待办中心-我的已办列表中
  - 修复流程无法禁用问题
  - 修复序号字段并发时的写入报错问题
  - 修复中文表名导致的查询语句报错问题

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
CREATE UNIQUE INDEX `Department_user_relation_uniq` ON `department_to_user` (`department_id`, `user_id`);
CREATE UNIQUE INDEX `User_auth_type_unique` ON `o_auth` (`user_id`, `auth_type`);
ALTER TABLE `flow` ADD `draft` json NOT NULL;
ALTER TABLE `flow_collect` ADD `app_id` int NOT NULL;
CREATE TABLE `custom_widget_npm` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `name` varchar(255) NOT NULL COMMENT '自定义组件NPM包名称', `description` varchar(255) NOT NULL COMMENT '自定义组件NPM包描述', `app_id` int NOT NULL COMMENT '应用 ID', `company_id` int NOT NULL, `framework` int NOT NULL, `version` varchar(255) NOT NULL COMMENT 'NPM包版本号' DEFAULT '0.0.1', INDEX `IDX_9977ec0a4be55d9f273f7ea7d5` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `custom_widget_npm_component` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `name` varchar(255) NOT NULL COMMENT 'NPM自定义组件名称', `framework` int NOT NULL COMMENT '技术栈：0 react, 1 vue, 2 jquery, 3 vue 3，4 多技术栈', `usage` int NOT NULL COMMENT '支持的渲染器类型，0 展示类, 1 表单项, 2 选择器', `type` varchar(255) NOT NULL COMMENT 'NPM自定义组件类型', `tag` json NULL COMMENT '分类：可自定义组件分类，比如「展示」、「功能」、「布局等」', `sort` int NULL COMMENT '排序：用于设置展示优先级，数值越大越靠前展示', `description` varchar(255) NOT NULL COMMENT '自定义组件描述' DEFAULT '', `app_id` int NOT NULL COMMENT '应用 ID', `company_id` int NOT NULL COMMENT '组织 id', `custom_widget_npm_id` int NOT NULL COMMENT '关联的自定义组件NPM包 id', `entry` varchar(255) NOT NULL COMMENT '自定义组件入口文件：正常情况下仅有一个入口文件', `files` json NULL COMMENT '自定义组件依赖文件，可有多个，可用于添加css、js等文件依赖', `plugin_entry` varchar(255) NULL COMMENT '自定义插件入口文件：正常情况下仅有一个入口文件', `status` int NOT NULL DEFAULT 1, INDEX `IDX_745650f25bfa7d344fcc146e6a` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `flow_node` ADD `scheduler_ids` text NULL;
```

如果无法添加上面的唯一索引，可以通过下面语句查询到有问题的字段，然后手动删除，或者更新后进入平台后台任务

```sql
SELECT user_id, auth_type, COUNT(*)
FROM o_auth
GROUP BY user_id, auth_type
HAVING COUNT(*)>1
```

```sql
SELECT department_id, user_id, COUNT(*)
FROM department_to_user
GROUP BY department_id, user_id
HAVING COUNT(*)>1
```

## 1.5.3（2022-03-04）

- 功能更新
  - amis 升级到 1.8.0-beta.2
  - editor 更新到 4.0.2-beta.16
- 问题修复
  - 修复文档无法刷新问题
  - 修复多个应用相同 key 时缓存问题
  - 优化更新和删除的提示
  - 修复流程表达式问题
  - 修复自定义组件渲染失败问题
  - 修复自定义主题直接影响已发布环境的问题

## 1.5.2（2022-02-17）

- 功能更新
  - amis 升级到 1.6.5-beta.1
- 问题修复
  - 修复网关分支条件为空问题

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
CREATE TABLE `application_entry` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `app_id` int NOT NULL, `name` varchar(255) NOT NULL, `type` int NOT NULL DEFAULT '1', `description` varchar(1024) NOT NULL, `logo` varchar(1024) NOT NULL, `is_default` tinyint NOT NULL DEFAULT 0, `key` varchar(255) NOT NULL, `config` json NOT NULL, `setting` json NOT NULL, `acl` json NOT NULL, `status` int NOT NULL DEFAULT '0', INDEX `IDX_ebe25eaa9aa9353e8640c2fe58` (`app_id`), INDEX `IDX_659c7e9b1ad7660985ad14006a` (`key`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `page` ADD `platform` int NOT NULL DEFAULT '1';
ALTER TABLE `application` ADD `type` int NOT NULL DEFAULT 1;
```

## 1.5.1（2022-01-26）

- 功能更新
  - 优化登录页样式
  - 富文本编辑器支持插入视频
  - 优化工作台应用题目数字
  - releaseEnv 增加实体触发流程
- 问题修复
  - 按钮组件变成流程发起功能
  - 实体触发流程时开启记录更新人时的问题

## 1.5.0（2022-01-21）

- 功能更新
  - 工作台界面改版
  - 开启流程功能

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
--beta 1 版本
ALTER TABLE `flow_node` ADD `cooperate_to` varchar(1024) NULL;
ALTER TABLE `flow_node` ADD `cooperate_type` varchar(255) NOT NULL DEFAULT '';
ALTER TABLE `flow_node` ADD `cooperate_strategy` varchar(255) NOT NULL DEFAULT '';
ALTER TABLE `data_model` ADD `multi_tenant` tinyint NOT NULL DEFAULT 0;
ALTER TABLE `form_group` ADD `order` int NOT NULL DEFAULT 0;
ALTER TABLE `flow_group` ADD `order` int NOT NULL DEFAULT 0;
ALTER TABLE `data_model_revision` ADD `multi_tenant` tinyint NOT NULL DEFAULT 0;

--beta 2版本
ALTER TABLE `layout_revision` ADD `is_mobile` tinyint NOT NULL DEFAULT 0;
ALTER TABLE `layout` ADD `is_mobile` tinyint NOT NULL DEFAULT 0;

--后续版本
CREATE TABLE `application_collect` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `app_id` int NOT NULL, `owner_id` int NOT NULL, `env` varchar(255) NOT NULL, INDEX `IDX_017bb3f019d020c28abeca308d` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `flow_collect` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT 0, `deleted_by` int NOT NULL DEFAULT 0, `flow_id` int NOT NULL, `env` varchar(255) NOT NULL DEFAULT 'dev', PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `flow_data` ADD `flow_id` int NOT NULL DEFAULT 0;
ALTER TABLE `application_collect` ADD `company_id` int NOT NULL DEFAULT 0;
ALTER TABLE `flow_collect` ADD `company_id` int NOT NULL DEFAULT 0;
ALTER TABLE `flow_node` ADD `readed` tinyint NOT NULL DEFAULT 0;
```

## 1.4.2（2021-12-09）

- 功能更新
  - amis 升级到 1.5.3 版本
  - 支持 ldap 登录
  - 优化编辑器面板，右侧支持拖动宽度
- 问题修复
  - 修复正式环境修改角色权限时接口报错
  - 修复异常路由匹配报错问题
  - 修复后台任务执行时卡顿问题
  - 编辑器 crud 脚手架校验格式会导致带上 rows 数据到配置中

## 1.4.1（2021-12-07）

- 功能更新
  - 优化预览状态交互
  - 正式环境支持对角色增加人
  - 优化空页面状态的样式
- 问题修复
  - 升级 amis 版本，修复报错
  - 修复 markdown 无法编辑问题
  - api 中心的 branch 节点改成只执行其中某一个

如果确认 1.4.0 功能可以正常使用，可以使用下面的语句删除不需要的表结构，注意这个执行之后将无法回滚到 1.3.9 版本，因此建议过几周稳定运行后再执行

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
ALTER TABLE `template` ADD `refs` json NULL;
ALTER TABLE `storage` ADD `external_key` varchar(1024) NOT NULL DEFAULT '';
```

```sql
ALTER TABLE `data_model_revision` DROP COLUMN `use_flow`;
ALTER TABLE `data_model_revision` DROP COLUMN `flowdata`;
ALTER TABLE `data_model` DROP COLUMN `use_flow`;
ALTER TABLE `data_model` DROP COLUMN `flowdata`;
DROP TABLE IF EXISTS `flow_activity`;
DROP TABLE IF EXISTS `flow_record`;
```

如果要降回 1.3.9 版本，需要执行下面的 sql

```sql
ALTER TABLE `data_model` ADD `flowdata` json NOT NULL;
ALTER TABLE `data_model` ADD `use_flow` tinyint NOT NULL DEFAULT '0';
ALTER TABLE `data_model_revision` ADD `flowdata` json NOT NULL;
ALTER TABLE `data_model_revision` ADD `use_flow` tinyint NOT NULL DEFAULT '0';
```

## 1.4.0（2021-12-03）

- 功能升级
  - 应用开发版本界面调整
  - 应用支持设置页面框架，比如导航放顶部
  - api 中心可以编辑时调试
  - api 编排优化调试日志的展现，使用 json 视图来展现复杂数据
- amis 功能升级
  - 修复头像组件的变量不支持 ls 问题
  - 增加 transfer-picker 组件
  - 增加 tabs-transfer-picker 组件，可用于实现部门选择功能
  - crud 工具栏增加简化 刷新 按钮配置
  - 锚点导航支持放顶部
  - select 组件新增表模式等，用于替代人员选择组件
  - 增加用户行为记录功能
  - card 支持配置 toolbar
  - 表格支持自动填充高度模式
  - mapping 组件支持数组
  - CRUD 支持自动生成查询区域
  - image 支持配置点击 action
  - dropdown 增加右侧 icon 设置
  - CRUD 支持排序列
  - Table 支持行角标
- 问题修复
  - 数据模型连接的空闲时间缩短到 1 分钟，解决 120s 网络端口导致 Pool is close 问题
  - 旧的数据模型接口必须有一个页面权限才能使用，减少安全风险
  - 修复数据源获取帐号不正确问题
  - 修复主题中「大字体大小」key 不正确问题

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
CREATE TABLE `layout_revision` (`id` int NOT NULL AUTO_INCREMENT, `type` varchar(255) NOT NULL, `is_default` tinyint NOT NULL DEFAULT 0, `is_builtin` tinyint NOT NULL DEFAULT 0, `body` mediumtext NOT NULL, `js` varchar(255) NULL, `css` varchar(255) NULL, `description` varchar(1024) NOT NULL, `layout_id` int NOT NULL, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `created_by` int NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `layout` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `name` varchar(255) NOT NULL, `description` varchar(255) NOT NULL DEFAULT '', `app_id` int NOT NULL, `company_id` int NOT NULL, `is_default` tinyint NOT NULL DEFAULT 0, `is_builtin` tinyint NOT NULL DEFAULT 0, `type` varchar(255) NOT NULL, `v_id` int NOT NULL DEFAULT '0', INDEX `IDX_c0e9a4a210ccf401af338ecab8` (`app_id`), UNIQUE INDEX `REL_192a414ad8657135614daaf4db` (`v_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `api_center_group` ADD `order` int NOT NULL DEFAULT '0';
ALTER TABLE `data_source` ADD `order` int NOT NULL DEFAULT '0';
CREATE TABLE `form_revision` (`id` int NOT NULL AUTO_INCREMENT, `form_id` int NOT NULL, `title` varchar(255) NOT NULL, `description` text NOT NULL, `fields` json NOT NULL, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `created_by` int NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `form_group` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `company_id` int NOT NULL, `app_id` int NOT NULL, `name` varchar(255) NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `acl` json NOT NULL, INDEX `IDX_f8f8e57bb7653126bd01f7ae3a` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `form` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `company_id` int NOT NULL, `app_id` int NOT NULL, `key` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `acl` json NOT NULL, `g_id` int NOT NULL DEFAULT '0', `v_id` int NOT NULL DEFAULT '0', INDEX `IDX_a8287232255c4d1c4d28df0e9e` (`app_id`), INDEX `IDX_52f45fcb0f4c4572310a1f8102` (`key`), INDEX `IDX_e2b5265b1797dcc0f22ad18798` (`name`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `flow_revision` (`id` int NOT NULL AUTO_INCREMENT, `flow_id` int NOT NULL, `body` json NOT NULL, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `created_by` int NOT NULL, `form_id` int NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `flow_group` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `company_id` int NOT NULL, `app_id` int NOT NULL, `name` varchar(255) NOT NULL, `description` varchar(1024) NOT NULL DEFAULT '', `acl` json NOT NULL, INDEX `IDX_3aa490dce90220c4ca52ef1404` (`app_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `flow` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `company_id` int NOT NULL, `app_id` int NOT NULL, `key` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `title` varchar(255) NOT NULL DEFAULT '', `description` varchar(1024) NOT NULL DEFAULT '', `enabled` tinyint NOT NULL, `start_trigger` varchar(255) NOT NULL, `event_target` varchar(255) NOT NULL DEFAULT '', `event_type` varchar(255) NOT NULL DEFAULT '', `acl` json NOT NULL, `group_id` int NOT NULL DEFAULT '0', `v_id` int NOT NULL DEFAULT '0', INDEX `IDX_773c3d96da76db75b9a29d9e41` (`app_id`), INDEX `IDX_749f4e3e2ef9ad83a33afa7bfa` (`key`), INDEX `IDX_1973215ef5e40159c846dc7b0f` (`name`), INDEX `IDX_11bd326d9cdf9a40ce83b7c612` (`start_trigger`, `event_target`, `event_type`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `flow_data` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `company_id` int NOT NULL, `app_id` int NOT NULL, `form_key` varchar(255) NOT NULL, `env` varchar(255) NOT NULL DEFAULT 'dev', `definition` json NOT NULL, `ctx` json NOT NULL, `data_id` int NOT NULL, `data` json NOT NULL, `brief` json NOT NULL, `status` int NOT NULL, `flow_title` varchar(255) NOT NULL, `active_nodes` text NOT NULL, `last_checked_at` timestamp NULL, INDEX `IDX_388bd7891620ce032aeb8ccbed` (`app_id`), INDEX `IDX_318b016dd0797e365c74738b94` (`data_id`), INDEX `IDX_aa72c19bd4e4f55cdc2a67593b` (`form_key`, `env`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `flow_node` (`id` int NOT NULL AUTO_INCREMENT, `flow_data_id` int NOT NULL, `node_id` varchar(255) NOT NULL, `title` varchar(255) NOT NULL, `type` varchar(255) NOT NULL, `transactor_id` int NOT NULL, `status` varchar(255) NOT NULL, `active` tinyint NOT NULL DEFAULT 0, `ctx` json NOT NULL, `op_type` varchar(255) NOT NULL DEFAULT '', `comments` varchar(255) NOT NULL DEFAULT '', `attachement` varchar(255) NOT NULL DEFAULT '', `sign` varchar(255) NOT NULL DEFAULT '', `deliver_to` varchar(1024) NULL, `deliver_msg` varchar(255) NOT NULL DEFAULT '', `affect_type` varchar(255) NOT NULL DEFAULT '', `rollback_to` varchar(255) NOT NULL DEFAULT '', `form` json NOT NULL, `brief` json NOT NULL, `notification_id` int NOT NULL, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `form_data` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `company_id` int NOT NULL, `app_id` int NOT NULL, `form_key` varchar(255) NOT NULL, `env` varchar(255) NOT NULL DEFAULT 'dev', `data_id` int NOT NULL, `data` json NOT NULL, INDEX `IDX_1a28fc29c6942ee89fe88953be` (`app_id`), INDEX `IDX_8609921481490cf57b60c4b01d` (`form_key`), INDEX `IDX_1a7e8a82debcf37fc5df2a13a5` (`env`), INDEX `IDX_fb9106d28a7342cf55200d8d66` (`data_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
CREATE TABLE `sequence_manager` (`key` varchar(50) NOT NULL, `value` int NOT NULL DEFAULT '1', INDEX `IDX_1cb0722c393cd6a578bac32b02` (`key`), PRIMARY KEY (`key`)) ENGINE=InnoDB;
ALTER TABLE `object_storage` ADD `big_file_path_pattern` varchar(255) NULL DEFAULT '{{date:YYYY-MM}}/{{name}}{{ext}}';
```

## 1.3.9（2021-11-19）

- 页面外嵌 url 扩大长度限制至 2048
- 优化 sameSite=None 实现，保证 https 和 http 都能正常登录。
- 应用内对象存储支持大文件上传
- 修复数据源获取 db 账号错误的问题
- 分享页面策略调整，仅支持模型表单页面

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
ALTER TABLE `page` CHANGE `url` `url` varchar(2048) NOT NULL DEFAULT '';
ALTER TABLE `task` ADD INDEX `IDX_8a87314e6b7ebcc13e967c064a`(`type`);
ALTER TABLE `task` ADD INDEX `IDX_f30587a720f85795f6f90f8795`(`should_run_at`);
ALTER TABLE `task` ADD INDEX `IDX_2fe7a278e6f08d2be55740a939`(`status`);
```

## 1.3.8（2021-11-01）

- amis 升级到 [1.4.1](https://github.com/baidu/amis/releases/tag/1.4.1)
- 问题修复
  - 修复异步发布导致静态文件可能出错问题

## 1.3.7（2021-10-30）

- 功能升级
  - 应用支持发布部分页面
  - 返回结果 500 报错的时候也执行全局返回适配器代码
  - 分开上传也支持返回其他文件信息
  - 数据模型手动模式下禁用爱速搭所在的 MySQL 实例账号
  - 应用切换的时候清除之前的历史导航
  - 支持应用发布时支持局部发布，只更新一部分页面
- amis 升级到 [1.4.0](https://github.com/baidu/amis/releases/tag/1.4.0)
- 问题修复
  - 组织删除后马上重建会报错
  - api 编排分支节点没有带上默认条件
  - 没有开启对象存储时，导出应用不会导出静态资源
  - 主题如果只修改变量不设置样式，jssdk 导出会报错
  - 多次修改变量会导致产生多份问题
  - 修复版本对比的问题应用配置变更的问题
  - jssdk 导出支持 IE 11

## 1.3.6（2021-10-25）

- 功能升级
  - 增加组织移交功能
- amis 升级
  - input-number 支持设置单位
  - page 支持 style
  - tpl 增加 fromNow 过滤
  - 增加一种 download 的 actionType
  - 增加 input-kv 组件
- 问题修复
  - 修复缓存导致切换环境不更新问题
  - 修复自定义组件部分依赖无法加载问题
  - 修复无法删除数据源问题
  - 修复 api 中心没有使用前端全局适配器问题
  - 不开启分角色的情况下，在编辑器中的模型列表不显示所有字段
  - 避免编辑器提前打包导致平台在旧 chrome 下无法打开问题

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
CREATE TABLE `application_sync` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `app_id` int NOT NULL, `task_id` int NOT NULL, `from` varchar(255) NOT NULL, `services` varchar(255) NOT NULL, `over_write_old_config` tinyint NOT NULL, `tag` varchar(255) NOT NULL DEFAULT 'latest', `sync_release` tinyint NOT NULL DEFAULT 0, `mode` int NOT NULL DEFAULT '1', `partial_body` json NOT NULL, `jssdk_pages` json NOT NULL, `jssdk_history_mode` varchar(255) NOT NULL DEFAULT 'hash', INDEX `IDX_18bfe2782c2597cb55b6c51e6e` (`app_id`), UNIQUE INDEX `REL_5f5a89f8b3d1fbd988b6a0a196` (`task_id`), PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `application_release` ADD `task_id` int NULL;
ALTER TABLE `application_release` ADD UNIQUE INDEX `IDX_f43a4d5f36a9629c6b6382fb7a` (`task_id`);
CREATE UNIQUE INDEX `REL_f43a4d5f36a9629c6b6382fb7a` ON `application_release` (`task_id`);
```

## 1.3.5（2021-10-19）

- 功能升级
  - 全局适配器可以拿到初始化接口的数据
  - 支持配置移动端底部 tabbar
- amis 版本升级
  - input-number 支持设置单位
  - page 支持 style
  - 表格单元格支持设置样式类
  - 表格列支持设置对齐方式及样式类
- 问题修复
  - swagger 导入出错
  - 初始化接口不支持 api 编排
  - 上传 Excel 在日期为空时的报错
  - 自定义组件部分依赖不加载问题

## 1.3.4（2021-10-11）

- 功能升级
  - 优化角色列表性能
  - 镜像整合 aisuda 外部文档，通过 /aisuda-docs 访问
  - 开发环境支持全局搜索查找功能，可以一次性搜索应用内的页面、api、公共组件、自定义组件
- 问题修复
  - 修复编辑器的移动端预览不支持自定义 CSS 问题
  - 修复 Vue 3 在列表中的显示问题
  - 修复金额类型的字段显示不正确问题
  - 默认在组合查询中不开启 id 和删除字段
  - 修复模型列表的快速修改总是新增问题

## 1.3.2（2021-09-24）

- 问题修复
  - 部分应用导出会报错问题
  - 修复组织架构导入时昵称显示问题
  - 修复可视化编辑器卡顿问题

## 1.3.1（2021-09-23）

- 问题修复
  - 修复 formula 设置的初始值在 wizard 里面失效的问题
  - 修复历史导航导致 echarts 图表缩小问题
  - 在应用发布页面直接点击访问，跳转页面的显示有问题

## 1.3.0（2021-09-18）

- 平台功能升级
  - JSSDK 支持应用初始化接口
  - JSSDK 下载支持配置绝对路径
  - 自定义组件支持 Vue 3
  - 自定义组件支持设置 .npmrc
- amis 版本升级
  - nestedselect，treeselect 支持仅展示选中节点的文本信息
  - nestedselect 支持 onlyChildren 属性
  - tree 支持节点路径模式
  - nav 组件的 label 支持 tpl
  - 图片裁剪默认开启旋转支持
  - markdown 渲染支持嵌入视频
  - action 支持 onClick 自定义代码
  - action 支持配置键盘快捷键
  - table 支持调整列宽度
- 问题修复
  - 修复在 Windows 下无法运行 npm start 问题
  - 修复模型组件数据导出只有十条数据的问题
  - api 编排不允许调用自身避免死循环
  - 调整一下 groupReplication 顺序修复可能的报错
  - 修复应用角色导出后资源权限对不上的问题
  - 全局请求适配器在编辑器不生效
  - 模型设计修改表名称时，数据库应该使用 rename 而不是新增表

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
DROP TABLE IF EXISTS `api`;
DROP TABLE IF EXISTS `log`;
ALTER TABLE `page` CHANGE `url` `url` varchar(1024) NOT NULL DEFAULT '';
ALTER TABLE `api_center` CHANGE `description` `description` varchar(1024) NOT NULL DEFAULT '';
ALTER TABLE `data_model` ADD `diff_info` json NOT NULL;
```

## 1.2.2（2021-09-15）

- 平台功能升级
  - 模型列表的预设条件支持枚举和日期类型字段
  - JSSDK 增加 vue 示例模板
  - OpenAPI 增加模型数据的单 id 查看接口
- 可视化编辑器升级
  - 优化 CRUD 脚手架，支持生成创建按钮的配置
- 问题修复
  - 新增自定义组件时描述不生效问题

## 1.2.1（2021-09-14）

- 问题修复
  - amis 日期时间点击报错

## 1.2.0（2021-09-13）

- 平台功能升级
  - JSSDK 支持直接下载文件，可以直接下载生成的文件（上次同步已提供，这里只是补个记录）
  - 页面内公共组件在左侧的导航中显示
  - 页面顶部历史 Tab 升级，界面优化，默认常驻（切换不会清空），支持右键刷新
  - api 中心支持类似页面的历史版本功能，方便多人协作
  - 减小发布时的事务大小，优化性能
- 可视化编辑器升级
  - 编辑器右侧的代码编辑支持全屏模式
  - 图片补充暂时模式的配置
  - 增加 amis 新功能相关的配置，比如按钮支持自定义点击事件
- amis 升级
  - 升级部分依赖，TypeScript 升级到 4.4，ECharts 升级到 5.2.0
  - 优化编辑器在深层 JSON 嵌套下的性能
  - tab 宽度溢出支持滚动
  - 按钮支持自定义点击事件
- 应用独立部署升级
  - api 增加调用日志
  - 支持页面历史 tab
  - 支持 api 中心单接口的中的 http、百度云、jwt 鉴权，增加相应转换功能
- 问题修复
  - 下载 Excel 模板使用 key 而不是 name，避免导入时报错，对应这个问题
  - 简单查询隐藏删除时间
  - 修复组织管理员角色下面的人员删不掉问题
  - 删除已经不再使用的前端独立导出功能，只支持同时导出前后端
  - 修复公式字段报错
  - 修复 JSSDK 导出页面使用模型接口报跨域错误
  - 删除成员时，删除角色中关联的成员
  - JSSDK 只导出用到的环境变量避免信息泄露
  - 修复跨组织越权获取成员列表问题
  - 修复 api 地址是 `//` 时没有后端代理的问题
  - 修复 api 编排不透传 header 问题

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
CREATE TABLE `api_center_revision` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `api` json NOT NULL, `api_center_id` int NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `api_center` ADD `v_id` int NULL;
CREATE UNIQUE INDEX `REL_92890f7e2b12eb801e70f924d4` ON `api_center` (`v_id`);
ALTER TABLE `page` ADD `refs` json NULL;
CREATE TABLE `password` (`id` int NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `user_id` int NOT NULL, `password` json NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB
```

## 1.1.20（2021-08-24）

- 优化应用列表页的查询性能
- CRUD 脚手架优化，api 支持代理、返回结果自动填充
- 数据模型字段支持自定义正则验证器
- 默认文件存储放数据库而不是 BOS
- 模型组件支持行列权限设置
- api 编排支持读写 session，可用于存储用户登录过程中的数据
- S3 存储支持设置使用路径模式
- 支持引入外部 JS/CSS，可以用来支持 Angular 组件
- 平台集成 amis 文档，可以直接通过 `/amis` 目录访问
- amis 相关功能升级
  - button-group 支持平铺样式
  - Grid & Hbox 支持 gap, hAlign, vAlign 配置
  - 按钮、链接、模板、图表支持角标; 角标支持动画效果
  - condition 支持字段进行搜索
  - 升级代码编辑器，修复展开收起卡顿问题
  - 日期、时间、富文本支持 borderMode
  - select 组件增加 hideSelected 属性，是否隐藏已选选项
  - 新增年份范围组件（input-year-range）
  - input-text 支持设置前缀和后缀
- 问题修复
  - 修复自定义组件编辑器面板无效的问题
  - 修复超管页面中上传默认应用模板报错问题
  - 修复 api 编排调用其它 api 中心节点有可能重名问题
  - 修复 jssdk 导出日志点击详情错误问题处理
  - 修复自定义样式在 jssdk 渲染时，优先级被降低的问题
  - 导出应用中的设置里环境变量被替换
  - 修复循环引用导致的数据页面前端编辑有时候不正常问题
  - 添加日期范围字段，存储格式为时间，选择默认值，字段添加失败
  - 创建组织自动创建应用报错
  - 部门和用户选择报错
  - 发布应用后页面导航配置不生效的问题
  - 非自增主键字段不可编辑问题
  - 修复 cxd 主题 jssdk 没有引入 iconfont 的问题
  - 修复选项类表单项直接放在 form 外面不可用的问题
  - 修复 crud 在翻页时 page/perPage 会变成字符串问题
  - 修复应用同步会将原有关联的权限接口删除问题
  - 修复搜索结果不准确问题

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
ALTER TABLE `object_storage` ADD `s3_force_path_style` tinyint NOT NULL DEFAULT 0
```

## 1.1.19（2021-08-06）

- 优化角色及模板查询接口的性能
- 问题修复
  - 修复缓存导致自定义组件编译不生效问题
  - 修复自定义组件重新渲染问题
  - 关系中间表没有存储 dsId 和保存中间关系表报错问题
  - 自定义组件编译兼容历史不规范数据
  - 修复 contextPath 用法，jssdk 页面引用资源接口错误问题

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
CREATE INDEX `IDX_21cb42c4f8a64cc990ece2be20` ON `role` (`app_id`);
CREATE INDEX `IDX_7bc10def5fac9674df9aa7d209` ON `page_statistic` (`app_id`);
CREATE INDEX `IDX_3d50c6fdab23974921cdca41c7` ON `role_member` (`role_id`);
```

## 1.1.18（2021-08-04）

- 应用独立部署新增前后端导出能力（只支持目前爱速搭部分后端功能）
- 新增页面顶部访问历史功能，并将面包屑放入页面头
- 新增页面复用通用配置功能（引用模式，改一处多处生效）
- 支持新窗口打开一样的链接
- 用户信息 profile 接口，返回 email 字段
- 修复自定义组件 font 文件无法加载问题、重复加载问题
- 修复用户名为 NULL 时的展现报错
- 调整模型接口存储格式
- 优化部分接口性能
- 问题修复
  - 开发环境下角色模拟的时候允许应用读权限避免报错
  - 去掉 api 编排中邮件节点来源设置
  - 自定义组件解析问题
  - 升级 amis 版本到 1.2.2
  - 修复自动生成密钥功能可能导致的漏洞
  - 修复 api 中心在页面地址转换的时候丢失 method 问题
  - 修复 mock 导入导出不生效问题
  - 补充 asFormItem 的配置
  - 分支下异步节点没有等待问题
  - api 中心里的 handlebars 避免自动转义
  - 避免二维码地址被代理
  - 自定义组件加载优化
  - font 文件编码错误问题
  - 导入时兼容一些空数据
  - Auth.getRoleNames() 获取当前应用和全局角色

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
ALTER TABLE `jssdk_export_log` CHANGE COLUMN `resource` `resource` varchar(2048) NOT NULL
```

## 1.1.17（2021-07-22）

- 优化页面、数据源等实体的查询性能
- 平台支持在子目录下运行，方便嵌入到已有域名下
- 优化模型字段默认值校验
- 工作台也支持按名称搜索
- api 编排增加用户信息数据方便做权限校验
- api 编排真假数据映射节点，用于获取部门名称数据
- 增加 api 编排中 script 脚本的内存限制
- jssdk 自动获取所在域名
- 模型地址支持配置是否显示行政区划分代码
- 应用重命名时自动重命名内置角色名前缀
- 问题修复
  - 修复导入应用的时候应用配置不生效问题
  - 修复模型页面在新主题下的展现问题
  - 可视化编辑器关闭页面跳转避免无法二次编辑
  - 修复获取角色中用户 id 不正确问题
  - 复模型组件多行文本展示
  - 修复列模型组件中列重命名导致清除数据问题
  - 修复导入应用内置模型没有标记为同步的问题
  - 修复可视化编辑器权限无法删除问题
  - 修复树形组件父节点无法添加问题
  - 模型资源禁止匿名访问
  - 修复 excel 上传中数据类型识别不正确问题
  - 修复 nav 中的 to 属性被代理问题
  - 修复视频地址被代理问题
  - jssdk 中的自定义组件问题
  - jssdk 兼容 S3
  - jssdk 导出没有主题
  - 修复模型表单及模型组件的 amis 1.2 兼容性问题
  - 修复相同 url 地址无法新窗口打开问题
  - 自定义组件解析问题

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
CREATE INDEX `IDX_2eb0a70313ee3200f3d7994002` ON `data_source` (`app_id`);
CREATE INDEX `IDX_1ab3c62692fefd2142db31bf03` ON `data_model` (`app_id`);
CREATE INDEX `IDX_37284c70a0f4b037bded614864` ON `page` (`app_id`);
CREATE INDEX `IDX_32a80fcfa8e05e8b216fbdf837` ON `application_release` (`app_id`);
CREATE INDEX `IDX_93802b23afda0ebfe3cad7a4e8` ON `flow_record` (`app_id`);
CREATE INDEX `IDX_f6843b4dcf1ce21398e42a1204` ON `component` (`app_id`);
CREATE INDEX `IDX_4c0470a156a0a9aec8beb7cf83` ON `api_center_group` (`app_id`);
CREATE INDEX `IDX_b3d2cfd82950a83ec502e3e811` ON `api_center` (`app_id`);
CREATE INDEX `IDX_7696d8bea709f10847431f7106` ON `object_storage` (`app_id`);
CREATE INDEX `IDX_2f8a008da494713ad4a7c30cb6` ON `application_runtime` (`app_id`);
CREATE INDEX `IDX_af7abd1d8f106d158a1f304381` ON `object_storage_upload_history` (`app_id`);
```

## 1.1.16（2021-07-09）

- 支持跨平台同步应用
- 后台日志功能支持查询
- 应用发布支持版本对比
- API 编排增加编码转换节点、增加调用其他 API 的节点、增加 delete 方法、增加编码转换节点、设置变量支持数据类型
- 支持自定义基础主题，可以切换到仿 antd
- 优化应用发布时的 SQL 查询性能
- 优化页面加载性能
- 支持日志使用 JSON 格式输出
- openapi 增加获取用户在应用内角色功能
- 表名长度限制从 20 增加到 64
- amis 升级到 1.2.1，细节参考[这里](https://github.com/baidu/amis/releases)
- 问题修复
  - 修复应用初始化接口返回结果可能为空的问题
  - 优化加载性能，避免编辑器提前加载
  - 修复组织架构导入文件名不支持括号问题
  - 避免替换 redirect 地址导致无法调整
  - 修复文件上传可能的漏洞
  - JSSDK 相关问题修复
  - 修复自定义组件在编辑器中的加载问题
  - 修复整形组件范围报错问题
  - 可视化编辑器修复表单容器、table 等问题
  - api 编排 sql 节点使用 key 来支持导出
  - 修复 api 编排 sql 节点不返回结果时的报错
  - 修复页面自定义权限导入失效问题
  - 修复微信重定向问题
  - 修复切换为 antd 主题时无法编辑自定义组件问题
  - 修复页面水印太短问题
  - 修复多对一模型导出时无法再导入问题
  - 修复登录样式问题
  - 用户数据库报错不再自动跳转到数据库更新页面

## 1.1.15（2021-06-21）

- API 中心支持 mock 功能。
- 开发环境支持模拟角色功能。
- 修复 header 透传设置对 cookie 不生效问题。
- 自动和手动模式下的数据模型开启树形结构支持。
- 修复一个可能修改首页父节点导致所有页面无法显示的问题。
- 默认开启 cluster 模式。
- 页面支持导出 JSSDK 功能。
- FieldSet 支持 `disabled` 配置。
- amis 升级
  - number 最大最小值的优化
  - 修复 File `disabled` 失效问题
  - 修复 select 高亮问题
  - fieldSet 补充 disabled
  - jssdk 支持 hash 路由
- 编辑器升级
  - 修复 crud 脚手架删除操作不生效问题
  - 修复代码编辑器可能无法滚动问题
- 修复 samesite cookie 问题。
- 修复已发布应用导出时数据源丢失问题。

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
ALTER TABLE `api_center` ADD `mock` mediumtext NULL;
CREATE TABLE `jssdk_export_log` (`id` bigint NOT NULL AUTO_INCREMENT, `created_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), `updated_at` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), `deleted_at` timestamp(6) NULL, `created_by` int NOT NULL, `updated_by` int NOT NULL DEFAULT '0', `deleted_by` int NOT NULL DEFAULT '0', `p_id` int NOT NULL DEFAULT '0', `page_hash_id` varchar(255) NOT NULL, `version` varchar(255) NOT NULL, `resource` varchar(255) NOT NULL, `env` varchar(255) NOT NULL, `a_id` int NOT NULL DEFAULT '0', `c_id` int NOT NULL DEFAULT '0', `operator` varchar(255) NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
```

## 1.1.14（2021-06-10）

- 新增「API 编排」功能，可以将多个接口的结果聚合起来输出。
- 新增输出「JSSDK」功能，可以将爱速搭页面嵌入到其它地方。(如果要支持 API Center 接口转发请参考 ISUDA_COOKIE_SAMESITE 设置)
- 应用新增初始化接口，接口会在应用初次打开的时候加载，返回的数据可用在应用内所有页面中，通过 `app.xxx` 来获取（xxx 是接口返回的数据）。
- 超管后台优化，增加「模板」、「应用」、「数据库日志」、「平台文档」及「License 信息」的展示。
- 角色中的部门数据改成异步加载提升性能。
- 修复编辑器手机预览没有 helper css 问题。
- 修复自定义组件旧数据编译失败问题
- 修复 number 输入框 min max 值依然存在超出的问题
- 修复页面历史版本排序问题
- 修复应用发布时，各环境版本默认值未递增的问题

「JSSDK」打通 api Center 接口还需要以下几个操作。

- 首先必须是 https，并且确保有 header `X-Forwarded-Proto: https` 透传到实例。
- 配置 docker env ISUDA_COOKIE_SAMESITE 为 none
- 应用设置中将使用 jssdk 的站点 host 信息填入到允许跨域站点列表中如： `http://yousite.com`

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
ALTER TABLE `component_revision` ADD `entry` json NULL
ALTER TABLE `component_revision` ADD `files` json NULL
```

## 1.1.13（2021-06-02）

- 优化部门树加载性能
- 修复编辑首页可能导致所有页面展现丢失问题
- 修复发正式环境不出现 api 中心资源权限配置问题
- 添加电话、手机、邮编、身份证号验证器
- 用户加入角色不自动加入顶级部门

## 1.1.12（2021-06-01）

- 页面添加水印开关
- 分享页面携带当前页面参数
- 对象存储支持 oss
- 自定义组件支持样式文件和编辑器插件扩充功能
- api 中心调用权限调整为附属页面下面配置
- api 中心添加查看使用页面列表功能
- 支持配置发布环境权限接管接口
- 升级 amis
  - fix: toolbar 设置 align 为 left 不生效问题
  - 修复初始状态 autoFill 不同步的问题
  - 按钮 tooltip 整理 支持 disabledTip, dropdown 下面的按钮也支持
  - wizard 支持 startStep 配置初始步骤
  - 内置 map filter
  - 评分组件支持 clear
  - wrapper 组件支持动态样式设置
  - 修复超级表头合表格固顶组合使用列宽度对应不上的问题
  - 修复倒计时中，仍可以执行 action 问题；
  - 升级 monaco-editor

> 此版本有数据库变更，如果帐号没有 DDL 权限，请先运行如下 SQL

```sql
ALTER TABLE `component` ADD `entry` json NULL
ALTER TABLE `component` ADD `files` json NULL
ALTER TABLE `page` ADD `config` json NULL
ALTER TABLE `template` ADD `key` varchar(255) NULL
ALTER TABLE `template` ADD `meta` longblob NULL
```

## 1.1.11（2021-05-21）

- 左侧导航支持自定义 icon
- api 中心支持显示 api 使用情况
- 可视化编辑器支持设置多选框值的格式，可切换到数字和布尔类型
- 修复记录时间和记录操作人无效问题
- 兼容之前的数据模型接口
- 修复数据源管理中动态列导致渲染问题
- 升级 amis
  - Checkboxes 分组样式优化
  - tree 组件问题修复
  - 日期时间范围下拉增加 popoverClassName 属性，修复父级有缩放比时弹框宽度计算问题
  - 数据映射的 key 可以支持 . 或者 [] 来指定路径
  - 修复 transfer 的 selectTitle 和 resultTitle 不生效问题
  - 修复 uuid 有值时不设置, 没值自动设置
  - 修复置灰效果不明显问题
  - tabs 的 activeKey 支持变量
  - 去掉 tab line 模式下顶部的 padding
  - each 组件空状态时文字居左，同时将空数组状态也认为是空状态
  - 支持 cookie 获取
  - 修复表单联合校验问题
  - 修复 image overlay tooltip 被遮挡问题
  - 修复图片表单项 disabled 影响放大功能的问题
  - 修复多行文本最小行数限制、静态展示超出问题
  - 远端校验显示报错时，可以再次提交
  - nav 父节点的 unfolded 需要依赖子节点的 active

## 1.1.10（2021-05-13）

- 新增环境变量 `ISUDA_PLATFORM_ADMINISTRATORS` 可以指定平台级别管理员
- 修复私有部署版本迁移组织架构迁移中的部门迁移问题
- 修复添加字段时可能出现数据源无法找到问题
- 修复页面编辑锁未释放问题
- 修复文件上传不支持数据库问题、支持带空格的文件名上传
- 修复安装时由于缓存导致跳转失败的问题

## 1.1.9（2021-05-12）

- API 中心支持自定义标识
- API 中心的最终展现地址修改，可以实现自己拼接 URL
- 模型编辑中的字段支持设置显示名称
- 编辑器中的图片支持上传图片
- 支持更换 favicon 和站点标题
- 优化在大量部门及用户场景下的性能
- 角色中的用户支持批量删除
- 优化组织设置页面
- markdown 支持 HTML 片段
- 修复被 iframe 嵌入时 crud 固顶问题
- 修复发布报错
- 修复发送适配器导致文件域内容被清楚的问题
- 新增配置环境变量，控制发布时是否覆盖运行态资源权限：`ISUDA_OVERWRITE_RUNTIME_ACL`
- 升级 amis
  - autoFill 支持 multiple 模式
  - Select 组件自定义菜单模式下无法全选问题修复
  - tree-select 也支持懒加载
  - excel 导出支持自定义文件名
  - 兼容多种 json 返回格式
  - crud filterable 数字类型不显示重置按钮的问题修复
  - number 最大值最小值支持配置浮点型
  - 日期选择快捷键新增上个月底
  - crud 最后一个 toolbar 去掉默认居右的设定

## 1.1.8（2021-05-07）

- 升级 editor 版本修复样式选择器的展现问题
- API 中心支持不标准的 json 格式（比如最后多了个逗号）
- API 中心支持自定义脚本来进行结果转换
- 嵌入外部页面支持相对地址
- 修复模型列表排序功能无效问题
- 修复分享页面无法自定义样式功能
- 修复可能导致卡顿的问题

## 1.1.7（2021-04-29）

- 全量导入改成批量
- 修复登录跳转失效问题
- 修复导入旧应用可能失败的问题

## 1.1.6（2021-04-27）

- 支持多主节点 MySQL Group Replication 部署
- API 中心支持基于 Swagger 导入
- 修复创建新应用后，第一次进入应用，左侧导航栏缺失问题
- 工作台中，无权限环境不显示对应入口

## 1.1.5（2021-04-25）

- 支持页面内权限设置
- 新增「对象存储」功能，可配置应用级别的对象存储
- 新增「生成独立前端应用」功能
- 在非开发环境也显示「数据管理」、「应用设置」和「权限配置」，可以独立管理这些环境的配置
- 报错提示更加友好，并严格区分不同报错的状态码
- 修复旧应用重复导入全局角色问题
- 修复无法清空数据问题
- 修复模型预览、分享页和普通页面 scaffold 找不到问题
- 修复自定义组件搜索失效问题
- 修复浮点数和整数类型错误
- 修复修改应用基本设置，左侧导航栏没更新问题
- 修复发布时默认权限问题

## 1.1.4（2021-04-14）

- 修复导入应用时有关系会失败的问题
- 修复发布时环境变量不显示问题

## 1.1.2（2021-04-12）

- 新增主题编辑功能
- 支持人员字段检索
- 修复旧应用文件导入报错

## 1.1.1（2021-04-07）

平台数据存储切换到 MySQL

## 1.0.67（2021-05-07）

- 增加存储导出功能，用于 MySQL 版本迁移

## 1.0.66（2021-04-29）

- 修复弹框中的编辑器无法插入链接图片等功能
- 修复导出接口可能报错的问题
- 升级 amis
  - 修复 list placeholder 问题
  - 修复弹框 ajax 行为无效问题
  - 调整日期按钮顺序，和 dialog 统一
  - 升级 ECharts 到 5.1.1
  - 优化 disabled 下按钮组的显示效果

## 1.0.65（2021-04-27）

- 修复 api 中心接口预览报错问题
- 升级 amis
  - 修复 Excel 导出问题
  - 修复链接按钮在表单中的垂直对齐问题
  - 修复部分表单组件的 disabled 不生效问题
  - 修复 color 组件值为 null 时的报错

## 1.0.64（2021-04-25）

- 增加 api 请求耗时统计方便分析性能问题
- 避免更新 license 的时候清空 redis 数据库
- 修复 API 中心的数据有循环引用导致的问题
- 升级 amis
  - 修复部分表单项 disabled 不生效问题
  - 修复 color 组件值为 null 时报错
  - 修复 maxLength 校验内容为数字时不一致问题
  - 修复表格展开收起可能曝出偶问题
  - 修复 loading 没传总是显示加载的问题
  - 修复页面同时有和没有 lazySchema 的 Dialog 场景

## 1.0.63（2021-04-23）

- 修复导航页面文件夹下缩进问题
- 修复压缩代码导致的文件下载保存文件名不正确问题
- 修复页面编辑模式 api 路径拼接出现双斜杠问题
- 组织架构改成懒加载模式
- 修复子角色获取问题
- 升级 amis
  - 修复 formitem 的 source 接口错误不显示 msg 问题
  - excel 支持接口导出
  - Nav 组件支持懒加载
  - Tree 组件支持懒加载，并优化搭配新增节点功能只刷新懒加载节点
  - action 支持发送 Email
- 升级 amis-editor
  - 修复拖入 tabs 代码压缩后区域没有显示的问题
  - 修复拖入增删改查没有呼出脚手架的问题

## 1.0.62（2021-04-20）

- 补充 es 写入日志便于定位问题
- 修复权限配置保存按钮样式问题
- 修复环境变量发布时替换原始环境变量导致的环境变量增多的问题
- HTTPAction 的 dns 支持缓存
- 隐藏页面即便处于当前页面,也不再导航中显示
- 修复 filter 参数中存在变量过滤失败的问题

## 1.0.60（2021-04-19）

- 升级 font awesome 到 5，支持更多 icon
- 更新 amis 版本
  - 支持 markdown 渲染
  - 更新 ECharts 版本到 5.0.2
  - filter 支持对象转数组
  - 修复 perPage 如果是字符串会导致渲染报错问题
- 代理的用户名进行编码避免报错

## 1.0.59（2021-04-15）

- 支持通过环境变量判断是否是 https
- 支持配置 Google Analytics 环境变量 GA_MEASUREMENT_ID
- 页面编辑按钮放右侧垂直居中避免遮挡功能
- 上传文件保留原始文件名
- 修复连线条件分支日期字段点击没有效果的问题
- 关系字段,流程中也可以编辑,作为摘要
- 更新 amis 版本
  - 修复 Range 值异常问题

## 1.0.58（2021-04-14）

- API 中心里的接口调试会保存每个接口的输入
- 报错时显示 url 方便排查
- 更新 amis 版本
  - steps 的 title、subTitle、description 支持变量
  - 变量可读取 localStorage 和 sessionStorage 里的数据
- 修复文件下载乱码问题
- 修复发布页面在没有昵称时不显示发布人问题

## 1.0.57（2021-04-13）

- 升级 amis 和 editor
  - 新增 Steps 组件
  - 修复上传文件无法下载问题
  - CRUD 支持数据接口返回动态列配置
  - condition-builder 支持 fieldClassName 控制输入框样式
  - iframe src 支持使用变量
  - NestedSelect 无结果时显示文本
  - 表单支持禁用回车提交
  - 修复弹窗时页面抖动问题
- api 调试保存之前的输入信息
- npm 包允许输入
- oauth 支持 displayName

## 1.0.56（2021-04-12）

- 公告关闭后刷新页面不再打开
- 编辑器上传支持从 api 选择、支持 responseData 编辑
- 升级 amis 到最新 master 版本
- 带流程的模型也可删除
- 优化版本发布性能，避免同步接口导致影响其他请求
- 修复普通页面的富文本编辑器无法上传图片问题

## 1.0.55（2021-04-08）

- 新增环境变量 ISUDA_DISABLE_EXPORT_SENSITIVE_INFO 设置后导出应用将删除 DB 敏感信息
- 组织管理页面新增公告设置功能
- condition-builder 支持接口返回 fields 字段配置
- 表格快速编辑功能支持嵌套用法组合使用
- 表格总计行错乱问题修复

## 1.0.54（2021-04-07）

- amis 和 editor 升级最新版
- 编辑器 crud 脚手架丰富
- API 支持文件上传
- HTTP 接口转换支持转 JSON 功能
- 直接显示后端 400 以上状态码的所有报错信息
- 修复查询人员信息组件展现问题
- 修复自定义组件查找路径问题
- 修复编辑器卡死问题

## 1.0.53（2021-03-30）

- 修复创建全局角色报错问题

## 1.0.52（2021-03-30）

- 修复外部数据源名称变更后无法使用模型列表功能

## 1.0.51（2021-03-29）

- 增加第三方登录功能
- API 中心支持文件下载
- 优化平台日志展示和条件过滤
- 页面编辑器可配置不使用代理
- 支持配置邮箱接口 API
- 增加 profile 方式来获取用户信息
- 修复 ES 导致卡顿问题
- 修复角色管理权限问题

## 1.0.50（2021-03-18）

- 修复部门批量导入权限问题
- API Center 转发接口不透传 headers
- 优化：API Center 结果转换支持不写 data.data, 支持删除数据
- 修复应用模板导出问题
- Redis 支持 twemproxy 集群
- 优化数据库连接性能

## 1.0.46（2021-03-16）

- 支持应用级别关闭代理
- 支持在应用内查看操作日志
- 优化：自定义组件调试 schema 自动保存

## 1.0.45（2021-03-15）

- 支持 API 401 报错的时候跳转到对应的地址
- 优化普通页面打开性能
- 首页新增首次访问引导
- 支持导入组织架构
- 新增 API 接口，支持应用角色相关的控制
- 私有部署版本支持平台级别后端自定义签名插件
- 修复：页面资源权限问题

## 1.0.42（2021-03-05）

- 支持 Redis Cluter 模式
- 支持日志输出到控制台
- 应用内支持创建应用级别角色
- 性能优化
