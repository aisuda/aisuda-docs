# 报表数据筛选

数据筛选是报表场景中非常常见的一个需求，报表组件支持以条件编辑器的方式可视化配置各报表组件的筛选条件。选中报表，点击右侧“属性”面板下的 “筛选条件” 和 “聚合筛选条件” 输入框，可为报表数据配置筛选条件。

## 设置静态筛选项

静态筛选项指报表数据根据配置的静态值进行筛选。

如图，当配置筛选条件为【文具类目】文具名称 不等于 剪刀 时
![filter1.png](/img/数据报表/filter1.png)

报表组件展示的内容中就被滤除了 “文具类目” 等于 “剪刀” 的数据

![filter2.png](/img/数据报表/filter2.png)

除了手动输入静态值，报表还支持将系统变量，如当前用户等作为静态筛选项，可点击条件编辑器右值的 f(x) 按钮

![filter3.png](/img/数据报表/filter3.png)

在弹框中的 “系统变量” 选项卡下进行点选

![filter4.png](/img/数据报表/filter4.png)

## 根据页面组件值的变化动态筛选报表数据

除了绑定静态筛选项外，报表组件还支持绑定页面的组件联动

如页面上有一个名为 dateRange 的 “时间范围” 组件

![filter5.png](/img/数据报表/filter5.png)

选中报表点击编辑筛选条件，可看到 “页面控件” 选项卡下有名为 dateRange 的控件可点选

![filter7.png](/img/数据报表/filter7.png)

点选将控件值和 “盘点日期” 字段进行关联

![filter8.png](/img/数据报表/filter7.png)

就可以实现报表和日期范围筛选组件的联动效果

![filter6.png](/img/数据报表/filter6.png)

除时间范围组件外，输入框、下拉框等表单组件也可作为报表筛选组件

注意：如果筛选组件和报表组件不在同一数据域下（如筛选组件在 Form 中），则需要将筛选组件数据发送给报表组件才能触发报表更新。

## 字段筛选和聚合筛选

“筛选条件” 是基于字段值进行的筛选，但是当配置了聚合方式，或使用了分组、数据桶、表达式类型的字段时，基于字段筛选通常得不到想要的值。

在下面的例子中，柱状图的维度为一个名为 “文具分类” 的分组

![filter9.png](/img/数据报表/filter9.png)

其展示效果为对 Y 轴数据进行分组聚合

![filter10.png](/img/数据报表/filter10.png)

当我们希望以分组的值作为筛选依据的时候，就需要在 “聚合筛选” 条件中进行配置

![filter10.png](/img/数据报表/filter11.png)
